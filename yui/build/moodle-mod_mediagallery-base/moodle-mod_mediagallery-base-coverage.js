if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/moodle-mod_mediagallery-base/moodle-mod_mediagallery-base.js']) {
   __coverage__['build/moodle-mod_mediagallery-base/moodle-mod_mediagallery-base.js'] = {"path":"build/moodle-mod_mediagallery-base/moodle-mod_mediagallery-base.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":40},"end":{"line":1,"column":59}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":10},"end":{"line":15,"column":57}}},"3":{"name":"(anonymous_3)","line":31,"loc":{"start":{"line":31,"column":28},"end":{"line":31,"column":43}}},"4":{"name":"(anonymous_4)","line":44,"loc":{"start":{"line":44,"column":54},"end":{"line":44,"column":65}}},"5":{"name":"(anonymous_5)","line":45,"loc":{"start":{"line":45,"column":88},"end":{"line":45,"column":100}}},"6":{"name":"(anonymous_6)","line":53,"loc":{"start":{"line":53,"column":43},"end":{"line":53,"column":55}}},"7":{"name":"(anonymous_7)","line":66,"loc":{"start":{"line":66,"column":29},"end":{"line":66,"column":54}}},"8":{"name":"(anonymous_8)","line":79,"loc":{"start":{"line":79,"column":21},"end":{"line":79,"column":33}}},"9":{"name":"(anonymous_9)","line":87,"loc":{"start":{"line":87,"column":87},"end":{"line":87,"column":99}}},"10":{"name":"(anonymous_10)","line":93,"loc":{"start":{"line":93,"column":26},"end":{"line":93,"column":41}}},"11":{"name":"(anonymous_11)","line":111,"loc":{"start":{"line":111,"column":21},"end":{"line":111,"column":36}}},"12":{"name":"(anonymous_12)","line":125,"loc":{"start":{"line":125,"column":74},"end":{"line":125,"column":86}}},"13":{"name":"(anonymous_13)","line":132,"loc":{"start":{"line":132,"column":20},"end":{"line":132,"column":45}}},"14":{"name":"(anonymous_14)","line":143,"loc":{"start":{"line":143,"column":25},"end":{"line":143,"column":49}}},"15":{"name":"(anonymous_15)","line":154,"loc":{"start":{"line":154,"column":42},"end":{"line":154,"column":54}}},"16":{"name":"(anonymous_16)","line":161,"loc":{"start":{"line":161,"column":26},"end":{"line":161,"column":50}}},"17":{"name":"(anonymous_17)","line":178,"loc":{"start":{"line":178,"column":16},"end":{"line":178,"column":27}}},"18":{"name":"(anonymous_18)","line":192,"loc":{"start":{"line":192,"column":28},"end":{"line":192,"column":40}}},"19":{"name":"(anonymous_19)","line":219,"loc":{"start":{"line":219,"column":30},"end":{"line":219,"column":54}}},"20":{"name":"(anonymous_20)","line":234,"loc":{"start":{"line":234,"column":19},"end":{"line":234,"column":46}}},"21":{"name":"(anonymous_21)","line":253,"loc":{"start":{"line":253,"column":17},"end":{"line":253,"column":36}}},"22":{"name":"(anonymous_22)","line":278,"loc":{"start":{"line":278,"column":26},"end":{"line":278,"column":50}}},"23":{"name":"(anonymous_23)","line":326,"loc":{"start":{"line":326,"column":23},"end":{"line":326,"column":44}}},"24":{"name":"(anonymous_24)","line":337,"loc":{"start":{"line":337,"column":26},"end":{"line":337,"column":50}}},"25":{"name":"(anonymous_25)","line":358,"loc":{"start":{"line":358,"column":22},"end":{"line":358,"column":33}}},"26":{"name":"(anonymous_26)","line":363,"loc":{"start":{"line":363,"column":29},"end":{"line":363,"column":40}}},"27":{"name":"(anonymous_27)","line":380,"loc":{"start":{"line":380,"column":36},"end":{"line":380,"column":51}}},"28":{"name":"(anonymous_28)","line":501,"loc":{"start":{"line":501,"column":24},"end":{"line":501,"column":35}}},"29":{"name":"(anonymous_29)","line":511,"loc":{"start":{"line":511,"column":44},"end":{"line":511,"column":56}}},"30":{"name":"(anonymous_30)","line":526,"loc":{"start":{"line":526,"column":33},"end":{"line":526,"column":57}}},"31":{"name":"(anonymous_31)","line":538,"loc":{"start":{"line":538,"column":56},"end":{"line":538,"column":71}}},"32":{"name":"(anonymous_32)","line":543,"loc":{"start":{"line":543,"column":34},"end":{"line":543,"column":58}}},"33":{"name":"(anonymous_33)","line":552,"loc":{"start":{"line":552,"column":43},"end":{"line":552,"column":55}}},"34":{"name":"(anonymous_34)","line":565,"loc":{"start":{"line":565,"column":37},"end":{"line":565,"column":61}}},"35":{"name":"(anonymous_35)","line":575,"loc":{"start":{"line":575,"column":38},"end":{"line":575,"column":62}}},"36":{"name":"(anonymous_36)","line":600,"loc":{"start":{"line":600,"column":11},"end":{"line":600,"column":22}}},"37":{"name":"(anonymous_37)","line":610,"loc":{"start":{"line":610,"column":18},"end":{"line":610,"column":33}}},"38":{"name":"(anonymous_38)","line":631,"loc":{"start":{"line":631,"column":34},"end":{"line":631,"column":46}}},"39":{"name":"(anonymous_39)","line":646,"loc":{"start":{"line":646,"column":32},"end":{"line":646,"column":44}}},"40":{"name":"(anonymous_40)","line":656,"loc":{"start":{"line":656,"column":33},"end":{"line":656,"column":45}}},"41":{"name":"(anonymous_41)","line":673,"loc":{"start":{"line":673,"column":33},"end":{"line":673,"column":45}}},"42":{"name":"(anonymous_42)","line":697,"loc":{"start":{"line":697,"column":36},"end":{"line":697,"column":48}}},"43":{"name":"(anonymous_43)","line":710,"loc":{"start":{"line":710,"column":11},"end":{"line":710,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":740,"column":3}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"3":{"start":{"line":4,"column":0},"end":{"line":588,"column":2}},"4":{"start":{"line":16,"column":8},"end":{"line":16,"column":23}},"5":{"start":{"line":17,"column":8},"end":{"line":17,"column":31}},"6":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"7":{"start":{"line":19,"column":12},"end":{"line":19,"column":45}},"8":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"9":{"start":{"line":22,"column":12},"end":{"line":22,"column":47}},"10":{"start":{"line":24,"column":8},"end":{"line":26,"column":9}},"11":{"start":{"line":25,"column":12},"end":{"line":25,"column":44}},"12":{"start":{"line":28,"column":8},"end":{"line":28,"column":33}},"13":{"start":{"line":32,"column":8},"end":{"line":32,"column":44}},"14":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"15":{"start":{"line":34,"column":12},"end":{"line":34,"column":31}},"16":{"start":{"line":36,"column":8},"end":{"line":42,"column":10}},"17":{"start":{"line":44,"column":8},"end":{"line":63,"column":11}},"18":{"start":{"line":45,"column":12},"end":{"line":62,"column":21}},"19":{"start":{"line":47,"column":16},"end":{"line":47,"column":35}},"20":{"start":{"line":49,"column":16},"end":{"line":49,"column":71}},"21":{"start":{"line":50,"column":16},"end":{"line":50,"column":77}},"22":{"start":{"line":51,"column":16},"end":{"line":51,"column":57}},"23":{"start":{"line":53,"column":16},"end":{"line":59,"column":25}},"24":{"start":{"line":55,"column":20},"end":{"line":55,"column":56}},"25":{"start":{"line":57,"column":20},"end":{"line":57,"column":45}},"26":{"start":{"line":58,"column":20},"end":{"line":58,"column":78}},"27":{"start":{"line":61,"column":16},"end":{"line":61,"column":31}},"28":{"start":{"line":67,"column":8},"end":{"line":67,"column":69}},"29":{"start":{"line":68,"column":8},"end":{"line":69,"column":89}},"30":{"start":{"line":71,"column":8},"end":{"line":74,"column":10}},"31":{"start":{"line":75,"column":8},"end":{"line":77,"column":9}},"32":{"start":{"line":76,"column":12},"end":{"line":76,"column":60}},"33":{"start":{"line":79,"column":8},"end":{"line":81,"column":11}},"34":{"start":{"line":80,"column":12},"end":{"line":80,"column":115}},"35":{"start":{"line":82,"column":8},"end":{"line":87,"column":8}},"36":{"start":{"line":87,"column":8},"end":{"line":90,"column":11}},"37":{"start":{"line":88,"column":12},"end":{"line":88,"column":31}},"38":{"start":{"line":89,"column":12},"end":{"line":89,"column":40}},"39":{"start":{"line":94,"column":8},"end":{"line":94,"column":69}},"40":{"start":{"line":96,"column":8},"end":{"line":109,"column":10}},"41":{"start":{"line":111,"column":8},"end":{"line":119,"column":11}},"42":{"start":{"line":112,"column":12},"end":{"line":112,"column":31}},"43":{"start":{"line":113,"column":12},"end":{"line":115,"column":13}},"44":{"start":{"line":114,"column":16},"end":{"line":114,"column":32}},"45":{"start":{"line":116,"column":12},"end":{"line":118,"column":13}},"46":{"start":{"line":117,"column":16},"end":{"line":117,"column":119}},"47":{"start":{"line":120,"column":8},"end":{"line":125,"column":8}},"48":{"start":{"line":125,"column":8},"end":{"line":129,"column":11}},"49":{"start":{"line":126,"column":12},"end":{"line":126,"column":31}},"50":{"start":{"line":127,"column":12},"end":{"line":127,"column":55}},"51":{"start":{"line":128,"column":12},"end":{"line":128,"column":28}},"52":{"start":{"line":134,"column":8},"end":{"line":134,"column":34}},"53":{"start":{"line":136,"column":8},"end":{"line":136,"column":26}},"54":{"start":{"line":137,"column":8},"end":{"line":137,"column":37}},"55":{"start":{"line":139,"column":8},"end":{"line":169,"column":10}},"56":{"start":{"line":144,"column":20},"end":{"line":151,"column":21}},"57":{"start":{"line":145,"column":24},"end":{"line":145,"column":75}},"58":{"start":{"line":146,"column":24},"end":{"line":148,"column":25}},"59":{"start":{"line":147,"column":28},"end":{"line":147,"column":67}},"60":{"start":{"line":150,"column":24},"end":{"line":150,"column":51}},"61":{"start":{"line":153,"column":20},"end":{"line":157,"column":21}},"62":{"start":{"line":154,"column":24},"end":{"line":156,"column":32}},"63":{"start":{"line":155,"column":28},"end":{"line":155,"column":49}},"64":{"start":{"line":159,"column":20},"end":{"line":159,"column":69}},"65":{"start":{"line":162,"column":20},"end":{"line":164,"column":21}},"66":{"start":{"line":163,"column":24},"end":{"line":163,"column":45}},"67":{"start":{"line":171,"column":8},"end":{"line":173,"column":9}},"68":{"start":{"line":172,"column":12},"end":{"line":172,"column":33}},"69":{"start":{"line":175,"column":8},"end":{"line":175,"column":50}},"70":{"start":{"line":179,"column":8},"end":{"line":181,"column":9}},"71":{"start":{"line":180,"column":12},"end":{"line":180,"column":19}},"72":{"start":{"line":182,"column":8},"end":{"line":182,"column":34}},"73":{"start":{"line":183,"column":8},"end":{"line":183,"column":39}},"74":{"start":{"line":184,"column":8},"end":{"line":184,"column":91}},"75":{"start":{"line":185,"column":8},"end":{"line":187,"column":9}},"76":{"start":{"line":186,"column":12},"end":{"line":186,"column":140}},"77":{"start":{"line":188,"column":8},"end":{"line":188,"column":87}},"78":{"start":{"line":189,"column":8},"end":{"line":189,"column":31}},"79":{"start":{"line":192,"column":8},"end":{"line":231,"column":53}},"80":{"start":{"line":193,"column":12},"end":{"line":193,"column":31}},"81":{"start":{"line":195,"column":12},"end":{"line":195,"column":32}},"82":{"start":{"line":196,"column":12},"end":{"line":196,"column":30}},"83":{"start":{"line":197,"column":12},"end":{"line":197,"column":32}},"84":{"start":{"line":198,"column":12},"end":{"line":198,"column":52}},"85":{"start":{"line":199,"column":12},"end":{"line":204,"column":13}},"86":{"start":{"line":200,"column":16},"end":{"line":200,"column":34}},"87":{"start":{"line":201,"column":16},"end":{"line":201,"column":30}},"88":{"start":{"line":202,"column":16},"end":{"line":202,"column":30}},"89":{"start":{"line":203,"column":16},"end":{"line":203,"column":50}},"90":{"start":{"line":206,"column":12},"end":{"line":206,"column":45}},"91":{"start":{"line":207,"column":12},"end":{"line":213,"column":14}},"92":{"start":{"line":215,"column":12},"end":{"line":226,"column":14}},"93":{"start":{"line":220,"column":24},"end":{"line":220,"column":69}},"94":{"start":{"line":221,"column":24},"end":{"line":221,"column":84}},"95":{"start":{"line":228,"column":12},"end":{"line":228,"column":54}},"96":{"start":{"line":229,"column":12},"end":{"line":229,"column":91}},"97":{"start":{"line":235,"column":8},"end":{"line":235,"column":21}},"98":{"start":{"line":236,"column":8},"end":{"line":249,"column":9}},"99":{"start":{"line":237,"column":12},"end":{"line":237,"column":39}},"100":{"start":{"line":238,"column":12},"end":{"line":239,"column":12}},"101":{"start":{"line":239,"column":12},"end":{"line":242,"column":13}},"102":{"start":{"line":240,"column":16},"end":{"line":240,"column":34}},"103":{"start":{"line":241,"column":16},"end":{"line":241,"column":57}},"104":{"start":{"line":243,"column":12},"end":{"line":243,"column":29}},"105":{"start":{"line":244,"column":12},"end":{"line":248,"column":13}},"106":{"start":{"line":245,"column":16},"end":{"line":245,"column":53}},"107":{"start":{"line":247,"column":16},"end":{"line":247,"column":52}},"108":{"start":{"line":250,"column":8},"end":{"line":250,"column":42}},"109":{"start":{"line":254,"column":8},"end":{"line":256,"column":9}},"110":{"start":{"line":255,"column":12},"end":{"line":255,"column":29}},"111":{"start":{"line":258,"column":8},"end":{"line":258,"column":37}},"112":{"start":{"line":259,"column":8},"end":{"line":259,"column":44}},"113":{"start":{"line":261,"column":8},"end":{"line":263,"column":9}},"114":{"start":{"line":262,"column":12},"end":{"line":262,"column":51}},"115":{"start":{"line":265,"column":8},"end":{"line":265,"column":41}},"116":{"start":{"line":266,"column":8},"end":{"line":272,"column":10}},"117":{"start":{"line":274,"column":8},"end":{"line":321,"column":10}},"118":{"start":{"line":279,"column":20},"end":{"line":279,"column":65}},"119":{"start":{"line":280,"column":20},"end":{"line":290,"column":21}},"120":{"start":{"line":281,"column":24},"end":{"line":281,"column":75}},"121":{"start":{"line":282,"column":24},"end":{"line":288,"column":26}},"122":{"start":{"line":289,"column":24},"end":{"line":289,"column":53}},"123":{"start":{"line":291,"column":20},"end":{"line":301,"column":21}},"124":{"start":{"line":292,"column":24},"end":{"line":292,"column":62}},"125":{"start":{"line":293,"column":24},"end":{"line":298,"column":25}},"126":{"start":{"line":294,"column":28},"end":{"line":294,"column":64}},"127":{"start":{"line":295,"column":28},"end":{"line":295,"column":108}},"128":{"start":{"line":297,"column":28},"end":{"line":297,"column":106}},"129":{"start":{"line":300,"column":24},"end":{"line":300,"column":89}},"130":{"start":{"line":303,"column":20},"end":{"line":303,"column":29}},"131":{"start":{"line":304,"column":20},"end":{"line":310,"column":21}},"132":{"start":{"line":305,"column":24},"end":{"line":307,"column":25}},"133":{"start":{"line":306,"column":28},"end":{"line":306,"column":56}},"134":{"start":{"line":308,"column":24},"end":{"line":309,"column":71}},"135":{"start":{"line":311,"column":20},"end":{"line":311,"column":55}},"136":{"start":{"line":313,"column":20},"end":{"line":316,"column":21}},"137":{"start":{"line":314,"column":24},"end":{"line":314,"column":75}},"138":{"start":{"line":315,"column":24},"end":{"line":315,"column":59}},"139":{"start":{"line":323,"column":8},"end":{"line":323,"column":50}},"140":{"start":{"line":327,"column":8},"end":{"line":353,"column":10}},"141":{"start":{"line":338,"column":20},"end":{"line":338,"column":65}},"142":{"start":{"line":339,"column":20},"end":{"line":339,"column":68}},"143":{"start":{"line":340,"column":20},"end":{"line":344,"column":21}},"144":{"start":{"line":341,"column":24},"end":{"line":341,"column":74}},"145":{"start":{"line":343,"column":24},"end":{"line":343,"column":74}},"146":{"start":{"line":345,"column":20},"end":{"line":345,"column":62}},"147":{"start":{"line":346,"column":20},"end":{"line":348,"column":21}},"148":{"start":{"line":347,"column":24},"end":{"line":347,"column":51}},"149":{"start":{"line":355,"column":8},"end":{"line":355,"column":50}},"150":{"start":{"line":359,"column":8},"end":{"line":361,"column":9}},"151":{"start":{"line":360,"column":12},"end":{"line":360,"column":19}},"152":{"start":{"line":363,"column":8},"end":{"line":484,"column":8}},"153":{"start":{"line":365,"column":12},"end":{"line":369,"column":12}},"154":{"start":{"line":369,"column":12},"end":{"line":406,"column":13}},"155":{"start":{"line":370,"column":16},"end":{"line":370,"column":52}},"156":{"start":{"line":371,"column":16},"end":{"line":375,"column":17}},"157":{"start":{"line":372,"column":20},"end":{"line":372,"column":135}},"158":{"start":{"line":374,"column":20},"end":{"line":374,"column":86}},"159":{"start":{"line":376,"column":16},"end":{"line":405,"column":19}},"160":{"start":{"line":381,"column":28},"end":{"line":402,"column":29}},"161":{"start":{"line":382,"column":32},"end":{"line":382,"column":59}},"162":{"start":{"line":383,"column":32},"end":{"line":383,"column":46}},"163":{"start":{"line":384,"column":32},"end":{"line":384,"column":47}},"164":{"start":{"line":385,"column":32},"end":{"line":392,"column":33}},"165":{"start":{"line":387,"column":36},"end":{"line":387,"column":55}},"166":{"start":{"line":388,"column":36},"end":{"line":388,"column":57}},"167":{"start":{"line":390,"column":36},"end":{"line":390,"column":64}},"168":{"start":{"line":391,"column":36},"end":{"line":391,"column":66}},"169":{"start":{"line":393,"column":32},"end":{"line":393,"column":51}},"170":{"start":{"line":394,"column":32},"end":{"line":397,"column":33}},"171":{"start":{"line":395,"column":36},"end":{"line":395,"column":73}},"172":{"start":{"line":396,"column":36},"end":{"line":396,"column":53}},"173":{"start":{"line":399,"column":32},"end":{"line":399,"column":57}},"174":{"start":{"line":400,"column":32},"end":{"line":400,"column":53}},"175":{"start":{"line":401,"column":32},"end":{"line":401,"column":55}},"176":{"start":{"line":407,"column":12},"end":{"line":407,"column":38}},"177":{"start":{"line":408,"column":12},"end":{"line":410,"column":13}},"178":{"start":{"line":409,"column":16},"end":{"line":409,"column":23}},"179":{"start":{"line":411,"column":12},"end":{"line":422,"column":18}},"180":{"start":{"line":424,"column":12},"end":{"line":424,"column":21}},"181":{"start":{"line":425,"column":12},"end":{"line":463,"column":13}},"182":{"start":{"line":428,"column":16},"end":{"line":428,"column":37}},"183":{"start":{"line":429,"column":16},"end":{"line":440,"column":17}},"184":{"start":{"line":430,"column":20},"end":{"line":437,"column":21}},"185":{"start":{"line":431,"column":24},"end":{"line":431,"column":65}},"186":{"start":{"line":432,"column":27},"end":{"line":437,"column":21}},"187":{"start":{"line":433,"column":24},"end":{"line":433,"column":68}},"188":{"start":{"line":436,"column":24},"end":{"line":436,"column":33}},"189":{"start":{"line":439,"column":20},"end":{"line":439,"column":29}},"190":{"start":{"line":443,"column":16},"end":{"line":445,"column":17}},"191":{"start":{"line":444,"column":20},"end":{"line":444,"column":29}},"192":{"start":{"line":447,"column":16},"end":{"line":461,"column":17}},"193":{"start":{"line":448,"column":20},"end":{"line":448,"column":30}},"194":{"start":{"line":449,"column":20},"end":{"line":460,"column":21}},"195":{"start":{"line":450,"column":24},"end":{"line":454,"column":25}},"196":{"start":{"line":451,"column":28},"end":{"line":451,"column":55}},"197":{"start":{"line":452,"column":31},"end":{"line":454,"column":25}},"198":{"start":{"line":453,"column":28},"end":{"line":453,"column":61}},"199":{"start":{"line":455,"column":24},"end":{"line":459,"column":25}},"200":{"start":{"line":456,"column":28},"end":{"line":456,"column":83}},"201":{"start":{"line":457,"column":28},"end":{"line":457,"column":100}},"202":{"start":{"line":458,"column":28},"end":{"line":458,"column":53}},"203":{"start":{"line":462,"column":16},"end":{"line":462,"column":33}},"204":{"start":{"line":465,"column":12},"end":{"line":480,"column":13}},"205":{"start":{"line":466,"column":16},"end":{"line":466,"column":52}},"206":{"start":{"line":467,"column":16},"end":{"line":475,"column":17}},"207":{"start":{"line":468,"column":20},"end":{"line":468,"column":48}},"208":{"start":{"line":469,"column":20},"end":{"line":469,"column":41}},"209":{"start":{"line":470,"column":20},"end":{"line":470,"column":42}},"210":{"start":{"line":472,"column":20},"end":{"line":472,"column":47}},"211":{"start":{"line":473,"column":20},"end":{"line":473,"column":41}},"212":{"start":{"line":474,"column":20},"end":{"line":474,"column":41}},"213":{"start":{"line":476,"column":16},"end":{"line":479,"column":19}},"214":{"start":{"line":481,"column":12},"end":{"line":481,"column":38}},"215":{"start":{"line":484,"column":8},"end":{"line":498,"column":9}},"216":{"start":{"line":485,"column":12},"end":{"line":489,"column":13}},"217":{"start":{"line":486,"column":16},"end":{"line":486,"column":83}},"218":{"start":{"line":488,"column":16},"end":{"line":488,"column":133}},"219":{"start":{"line":490,"column":12},"end":{"line":490,"column":59}},"220":{"start":{"line":491,"column":12},"end":{"line":491,"column":59}},"221":{"start":{"line":492,"column":12},"end":{"line":492,"column":47}},"222":{"start":{"line":493,"column":12},"end":{"line":493,"column":44}},"223":{"start":{"line":494,"column":12},"end":{"line":494,"column":56}},"224":{"start":{"line":495,"column":12},"end":{"line":495,"column":74}},"225":{"start":{"line":497,"column":12},"end":{"line":497,"column":29}},"226":{"start":{"line":502,"column":8},"end":{"line":508,"column":10}},"227":{"start":{"line":510,"column":8},"end":{"line":586,"column":9}},"228":{"start":{"line":511,"column":12},"end":{"line":585,"column":15}},"229":{"start":{"line":512,"column":16},"end":{"line":512,"column":35}},"230":{"start":{"line":515,"column":16},"end":{"line":515,"column":57}},"231":{"start":{"line":517,"column":16},"end":{"line":548,"column":18}},"232":{"start":{"line":527,"column":28},"end":{"line":534,"column":29}},"233":{"start":{"line":528,"column":32},"end":{"line":528,"column":83}},"234":{"start":{"line":529,"column":32},"end":{"line":531,"column":33}},"235":{"start":{"line":530,"column":36},"end":{"line":530,"column":75}},"236":{"start":{"line":533,"column":32},"end":{"line":533,"column":59}},"237":{"start":{"line":535,"column":28},"end":{"line":535,"column":151}},"238":{"start":{"line":536,"column":28},"end":{"line":536,"column":87}},"239":{"start":{"line":537,"column":28},"end":{"line":537,"column":48}},"240":{"start":{"line":538,"column":28},"end":{"line":540,"column":31}},"241":{"start":{"line":539,"column":32},"end":{"line":539,"column":103}},"242":{"start":{"line":541,"column":28},"end":{"line":541,"column":88}},"243":{"start":{"line":549,"column":16},"end":{"line":549,"column":60}},"244":{"start":{"line":552,"column":16},"end":{"line":582,"column":25}},"245":{"start":{"line":553,"column":20},"end":{"line":553,"column":70}},"246":{"start":{"line":554,"column":20},"end":{"line":580,"column":22}},"247":{"start":{"line":566,"column":32},"end":{"line":573,"column":33}},"248":{"start":{"line":567,"column":36},"end":{"line":567,"column":87}},"249":{"start":{"line":568,"column":36},"end":{"line":570,"column":37}},"250":{"start":{"line":569,"column":40},"end":{"line":569,"column":79}},"251":{"start":{"line":572,"column":36},"end":{"line":572,"column":63}},"252":{"start":{"line":581,"column":20},"end":{"line":581,"column":64}},"253":{"start":{"line":584,"column":16},"end":{"line":584,"column":31}},"254":{"start":{"line":589,"column":0},"end":{"line":589,"column":46}},"255":{"start":{"line":590,"column":0},"end":{"line":726,"column":2}},"256":{"start":{"line":601,"column":8},"end":{"line":604,"column":10}},"257":{"start":{"line":607,"column":8},"end":{"line":607,"column":50}},"258":{"start":{"line":609,"column":8},"end":{"line":609,"column":46}},"259":{"start":{"line":610,"column":8},"end":{"line":629,"column":11}},"260":{"start":{"line":611,"column":12},"end":{"line":611,"column":54}},"261":{"start":{"line":613,"column":12},"end":{"line":613,"column":117}},"262":{"start":{"line":614,"column":12},"end":{"line":614,"column":94}},"263":{"start":{"line":615,"column":12},"end":{"line":615,"column":41}},"264":{"start":{"line":616,"column":12},"end":{"line":616,"column":59}},"265":{"start":{"line":618,"column":12},"end":{"line":627,"column":15}},"266":{"start":{"line":628,"column":12},"end":{"line":628,"column":37}},"267":{"start":{"line":631,"column":8},"end":{"line":644,"column":11}},"268":{"start":{"line":632,"column":12},"end":{"line":632,"column":31}},"269":{"start":{"line":634,"column":12},"end":{"line":634,"column":32}},"270":{"start":{"line":636,"column":12},"end":{"line":636,"column":56}},"271":{"start":{"line":637,"column":12},"end":{"line":637,"column":67}},"272":{"start":{"line":638,"column":12},"end":{"line":638,"column":85}},"273":{"start":{"line":639,"column":12},"end":{"line":643,"column":15}},"274":{"start":{"line":646,"column":8},"end":{"line":654,"column":11}},"275":{"start":{"line":647,"column":12},"end":{"line":647,"column":32}},"276":{"start":{"line":649,"column":12},"end":{"line":652,"column":15}},"277":{"start":{"line":653,"column":12},"end":{"line":653,"column":47}},"278":{"start":{"line":656,"column":8},"end":{"line":671,"column":11}},"279":{"start":{"line":658,"column":12},"end":{"line":658,"column":39}},"280":{"start":{"line":659,"column":12},"end":{"line":659,"column":39}},"281":{"start":{"line":660,"column":12},"end":{"line":666,"column":13}},"282":{"start":{"line":662,"column":16},"end":{"line":662,"column":31}},"283":{"start":{"line":665,"column":16},"end":{"line":665,"column":32}},"284":{"start":{"line":668,"column":12},"end":{"line":668,"column":22}},"285":{"start":{"line":669,"column":12},"end":{"line":669,"column":22}},"286":{"start":{"line":673,"column":8},"end":{"line":695,"column":11}},"287":{"start":{"line":675,"column":12},"end":{"line":676,"column":42}},"288":{"start":{"line":678,"column":12},"end":{"line":678,"column":68}},"289":{"start":{"line":679,"column":12},"end":{"line":683,"column":13}},"290":{"start":{"line":680,"column":16},"end":{"line":680,"column":31}},"291":{"start":{"line":682,"column":16},"end":{"line":682,"column":32}},"292":{"start":{"line":685,"column":12},"end":{"line":694,"column":13}},"293":{"start":{"line":687,"column":16},"end":{"line":689,"column":17}},"294":{"start":{"line":688,"column":20},"end":{"line":688,"column":51}},"295":{"start":{"line":691,"column":16},"end":{"line":691,"column":78}},"296":{"start":{"line":693,"column":16},"end":{"line":693,"column":34}},"297":{"start":{"line":697,"column":8},"end":{"line":707,"column":11}},"298":{"start":{"line":698,"column":12},"end":{"line":699,"column":42}},"299":{"start":{"line":702,"column":12},"end":{"line":706,"column":13}},"300":{"start":{"line":703,"column":16},"end":{"line":705,"column":17}},"301":{"start":{"line":704,"column":20},"end":{"line":704,"column":43}},"302":{"start":{"line":711,"column":8},"end":{"line":711,"column":80}},"303":{"start":{"line":712,"column":8},"end":{"line":719,"column":10}},"304":{"start":{"line":720,"column":8},"end":{"line":724,"column":11}}},"branchMap":{"1":{"line":3,"type":"binary-expr","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":39}},{"start":{"line":3,"column":43},"end":{"line":3,"column":45}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":8}},{"start":{"line":18,"column":8},"end":{"line":18,"column":8}}]},"3":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":19}},{"start":{"line":18,"column":23},"end":{"line":18,"column":41}}]},"4":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":8}},{"start":{"line":21,"column":8},"end":{"line":21,"column":8}}]},"5":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":12},"end":{"line":21,"column":19}},{"start":{"line":21,"column":23},"end":{"line":21,"column":45}}]},"6":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":8}},{"start":{"line":24,"column":8},"end":{"line":24,"column":8}}]},"7":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":12},"end":{"line":24,"column":19}},{"start":{"line":24,"column":23},"end":{"line":24,"column":42}}]},"8":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":33,"column":8}},{"start":{"line":33,"column":8},"end":{"line":33,"column":8}}]},"9":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":41},"end":{"line":45,"column":67}},{"start":{"line":45,"column":71},"end":{"line":62,"column":20}}]},"10":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":8}},{"start":{"line":75,"column":8},"end":{"line":75,"column":8}}]},"11":{"line":103,"type":"cond-expr","locations":[{"start":{"line":103,"column":75},"end":{"line":103,"column":91}},{"start":{"line":103,"column":94},"end":{"line":103,"column":109}}]},"12":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":12},"end":{"line":113,"column":12}},{"start":{"line":113,"column":12},"end":{"line":113,"column":12}}]},"13":{"line":113,"type":"binary-expr","locations":[{"start":{"line":113,"column":17},"end":{"line":113,"column":24}},{"start":{"line":113,"column":28},"end":{"line":113,"column":35}},{"start":{"line":113,"column":40},"end":{"line":113,"column":59}}]},"14":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":12},"end":{"line":116,"column":12}},{"start":{"line":116,"column":12},"end":{"line":116,"column":12}}]},"15":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":24},"end":{"line":146,"column":24}},{"start":{"line":146,"column":24},"end":{"line":146,"column":24}}]},"16":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":20},"end":{"line":153,"column":20}},{"start":{"line":153,"column":20},"end":{"line":153,"column":20}}]},"17":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":20},"end":{"line":162,"column":20}},{"start":{"line":162,"column":20},"end":{"line":162,"column":20}}]},"18":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":8},"end":{"line":171,"column":8}},{"start":{"line":171,"column":8},"end":{"line":171,"column":8}}]},"19":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":8},"end":{"line":179,"column":8}},{"start":{"line":179,"column":8},"end":{"line":179,"column":8}}]},"20":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":8},"end":{"line":185,"column":8}},{"start":{"line":185,"column":8},"end":{"line":185,"column":8}}]},"21":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":12},"end":{"line":199,"column":12}},{"start":{"line":199,"column":12},"end":{"line":199,"column":12}}]},"22":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":8},"end":{"line":236,"column":8}},{"start":{"line":236,"column":8},"end":{"line":236,"column":8}}]},"23":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":12},"end":{"line":239,"column":12}},{"start":{"line":239,"column":12},"end":{"line":239,"column":12}}]},"24":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":12},"end":{"line":244,"column":12}},{"start":{"line":244,"column":12},"end":{"line":244,"column":12}}]},"25":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":8},"end":{"line":254,"column":8}},{"start":{"line":254,"column":8},"end":{"line":254,"column":8}}]},"26":{"line":261,"type":"if","locations":[{"start":{"line":261,"column":8},"end":{"line":261,"column":8}},{"start":{"line":261,"column":8},"end":{"line":261,"column":8}}]},"27":{"line":261,"type":"binary-expr","locations":[{"start":{"line":261,"column":12},"end":{"line":261,"column":31}},{"start":{"line":261,"column":35},"end":{"line":261,"column":54}}]},"28":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":20},"end":{"line":280,"column":20}},{"start":{"line":280,"column":20},"end":{"line":280,"column":20}}]},"29":{"line":291,"type":"if","locations":[{"start":{"line":291,"column":20},"end":{"line":291,"column":20}},{"start":{"line":291,"column":20},"end":{"line":291,"column":20}}]},"30":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":24},"end":{"line":293,"column":24}},{"start":{"line":293,"column":24},"end":{"line":293,"column":24}}]},"31":{"line":304,"type":"if","locations":[{"start":{"line":304,"column":20},"end":{"line":304,"column":20}},{"start":{"line":304,"column":20},"end":{"line":304,"column":20}}]},"32":{"line":305,"type":"if","locations":[{"start":{"line":305,"column":24},"end":{"line":305,"column":24}},{"start":{"line":305,"column":24},"end":{"line":305,"column":24}}]},"33":{"line":313,"type":"if","locations":[{"start":{"line":313,"column":20},"end":{"line":313,"column":20}},{"start":{"line":313,"column":20},"end":{"line":313,"column":20}}]},"34":{"line":340,"type":"if","locations":[{"start":{"line":340,"column":20},"end":{"line":340,"column":20}},{"start":{"line":340,"column":20},"end":{"line":340,"column":20}}]},"35":{"line":346,"type":"if","locations":[{"start":{"line":346,"column":20},"end":{"line":346,"column":20}},{"start":{"line":346,"column":20},"end":{"line":346,"column":20}}]},"36":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":8},"end":{"line":359,"column":8}},{"start":{"line":359,"column":8},"end":{"line":359,"column":8}}]},"37":{"line":359,"type":"binary-expr","locations":[{"start":{"line":359,"column":12},"end":{"line":359,"column":44}},{"start":{"line":359,"column":48},"end":{"line":359,"column":80}}]},"38":{"line":371,"type":"if","locations":[{"start":{"line":371,"column":16},"end":{"line":371,"column":16}},{"start":{"line":371,"column":16},"end":{"line":371,"column":16}}]},"39":{"line":371,"type":"binary-expr","locations":[{"start":{"line":371,"column":20},"end":{"line":371,"column":35}},{"start":{"line":371,"column":39},"end":{"line":371,"column":55}}]},"40":{"line":381,"type":"if","locations":[{"start":{"line":381,"column":28},"end":{"line":381,"column":28}},{"start":{"line":381,"column":28},"end":{"line":381,"column":28}}]},"41":{"line":381,"type":"binary-expr","locations":[{"start":{"line":381,"column":32},"end":{"line":381,"column":52}},{"start":{"line":381,"column":56},"end":{"line":381,"column":76}}]},"42":{"line":385,"type":"if","locations":[{"start":{"line":385,"column":32},"end":{"line":385,"column":32}},{"start":{"line":385,"column":32},"end":{"line":385,"column":32}}]},"43":{"line":385,"type":"binary-expr","locations":[{"start":{"line":385,"column":36},"end":{"line":385,"column":78}},{"start":{"line":385,"column":82},"end":{"line":385,"column":125}}]},"44":{"line":394,"type":"if","locations":[{"start":{"line":394,"column":32},"end":{"line":394,"column":32}},{"start":{"line":394,"column":32},"end":{"line":394,"column":32}}]},"45":{"line":408,"type":"if","locations":[{"start":{"line":408,"column":12},"end":{"line":408,"column":12}},{"start":{"line":408,"column":12},"end":{"line":408,"column":12}}]},"46":{"line":430,"type":"if","locations":[{"start":{"line":430,"column":20},"end":{"line":430,"column":20}},{"start":{"line":430,"column":20},"end":{"line":430,"column":20}}]},"47":{"line":432,"type":"if","locations":[{"start":{"line":432,"column":27},"end":{"line":432,"column":27}},{"start":{"line":432,"column":27},"end":{"line":432,"column":27}}]},"48":{"line":443,"type":"if","locations":[{"start":{"line":443,"column":16},"end":{"line":443,"column":16}},{"start":{"line":443,"column":16},"end":{"line":443,"column":16}}]},"49":{"line":449,"type":"if","locations":[{"start":{"line":449,"column":20},"end":{"line":449,"column":20}},{"start":{"line":449,"column":20},"end":{"line":449,"column":20}}]},"50":{"line":450,"type":"if","locations":[{"start":{"line":450,"column":24},"end":{"line":450,"column":24}},{"start":{"line":450,"column":24},"end":{"line":450,"column":24}}]},"51":{"line":452,"type":"if","locations":[{"start":{"line":452,"column":31},"end":{"line":452,"column":31}},{"start":{"line":452,"column":31},"end":{"line":452,"column":31}}]},"52":{"line":455,"type":"if","locations":[{"start":{"line":455,"column":24},"end":{"line":455,"column":24}},{"start":{"line":455,"column":24},"end":{"line":455,"column":24}}]},"53":{"line":455,"type":"binary-expr","locations":[{"start":{"line":455,"column":28},"end":{"line":455,"column":38}},{"start":{"line":455,"column":42},"end":{"line":455,"column":80}}]},"54":{"line":467,"type":"if","locations":[{"start":{"line":467,"column":16},"end":{"line":467,"column":16}},{"start":{"line":467,"column":16},"end":{"line":467,"column":16}}]},"55":{"line":484,"type":"if","locations":[{"start":{"line":484,"column":8},"end":{"line":484,"column":8}},{"start":{"line":484,"column":8},"end":{"line":484,"column":8}}]},"56":{"line":485,"type":"if","locations":[{"start":{"line":485,"column":12},"end":{"line":485,"column":12}},{"start":{"line":485,"column":12},"end":{"line":485,"column":12}}]},"57":{"line":510,"type":"if","locations":[{"start":{"line":510,"column":8},"end":{"line":510,"column":8}},{"start":{"line":510,"column":8},"end":{"line":510,"column":8}}]},"58":{"line":529,"type":"if","locations":[{"start":{"line":529,"column":32},"end":{"line":529,"column":32}},{"start":{"line":529,"column":32},"end":{"line":529,"column":32}}]},"59":{"line":568,"type":"if","locations":[{"start":{"line":568,"column":36},"end":{"line":568,"column":36}},{"start":{"line":568,"column":36},"end":{"line":568,"column":36}}]},"60":{"line":589,"type":"binary-expr","locations":[{"start":{"line":589,"column":21},"end":{"line":589,"column":39}},{"start":{"line":589,"column":43},"end":{"line":589,"column":45}}]},"61":{"line":660,"type":"if","locations":[{"start":{"line":660,"column":12},"end":{"line":660,"column":12}},{"start":{"line":660,"column":12},"end":{"line":660,"column":12}}]},"62":{"line":679,"type":"if","locations":[{"start":{"line":679,"column":12},"end":{"line":679,"column":12}},{"start":{"line":679,"column":12},"end":{"line":679,"column":12}}]},"63":{"line":685,"type":"if","locations":[{"start":{"line":685,"column":12},"end":{"line":685,"column":12}},{"start":{"line":685,"column":12},"end":{"line":685,"column":12}}]},"64":{"line":687,"type":"if","locations":[{"start":{"line":687,"column":16},"end":{"line":687,"column":16}},{"start":{"line":687,"column":16},"end":{"line":687,"column":16}}]},"65":{"line":702,"type":"if","locations":[{"start":{"line":702,"column":12},"end":{"line":702,"column":12}},{"start":{"line":702,"column":12},"end":{"line":702,"column":12}}]},"66":{"line":703,"type":"if","locations":[{"start":{"line":703,"column":16},"end":{"line":703,"column":16}},{"start":{"line":703,"column":16},"end":{"line":703,"column":16}}]}},"code":["(function () { YUI.add('moodle-mod_mediagallery-base', function (Y, NAME) {","","M.mod_mediagallery = M.mod_mediagallery || {};","M.mod_mediagallery.base = {","","    mid : 0,","    gallery: 0,","    lbg_setup_ran: false,","    options: {","        enablecomments : false,","        enablelikes : false","    },","    uri : M.cfg.wwwroot + '/mod/mediagallery/rest.php',","","    init: function(mid, type, editing, gallery, options) {","        this.mid = mid;","        this.gallery = gallery;","        if (editing || type === 'gallery') {","            this.watch_editing_buttons(type);","        }","        if (options && options.enablecomments) {","            this.options.enablecomments = true;","        }","        if (options && options.enablelikes) {","            this.options.enablelikes = true;","        }","","        this.setup_sample_link();","    },","","    watch_editing_buttons : function(type) {","        var selector = '.gallery_list_item';","        if (type === 'item') {","            selector = '.item';","        }","        var config = {","            title : M.str.mod_mediagallery[\"confirm\"+type+\"delete\"],","            origquestion : M.str.mod_mediagallery[\"delete\"+type] + ' ',","            yesLabel : M.str.moodle.yes,","            noLabel : M.str.moodle.cancel,","            closeButtonTitle : M.str.moodle.cancel","        };","","        Y.all(selector + ' .action-icon.delete').each(function() {","            this._confirmationListener = this._confirmationListener || this.on('click', function(e) {","                // Prevent the default event (sumbit) from firing","                e.preventDefault();","                // Create the confirm box","                var itemdata = this.ancestor(\"div\"+selector).getData();","                config.question = config.origquestion + itemdata.title + '?';","                var confirm = new M.core.confirm(config);","                // If the user clicks yes","                confirm.on('complete-yes', function(e) {","                    // Detach the listener for the confirm box so it doesn't fire again.","                    this._confirmationListener.detach();","                    // Simulate the original cancel button click","                    itemdata[\"class\"] = type;","                    M.mod_mediagallery.base.delete_object(itemdata, selector);","                }, this);","                // Show the confirm box","                confirm.show();","            }, this);","        });","    },","","    add_gallery_info_modal : function(courseid, data) {","        var metainfo = Y.Node.create('<div class=\"metainfo\"></div>');","        var userlink = '<a href=\"' + M.cfg.wwwroot + '/user/view.php?id=' + data.userid +","            '&course=' + courseid + '\">' + data.firstname + ' ' + data.lastname + '</a>';","","        var list = [","            [M.str.mod_mediagallery.galleryname, data.name],","            [M.str.mod_mediagallery.creator, userlink]","        ];","        if (data.groupname !== null) {","            list.push([M.str.moodle.group, data.groupname]);","        }","","        Y.each(list, function(v) {","            Y.Node.create('<div class=\"field\">'+v[0]+'</div><div class=\"value\">'+v[1]+'</div>').appendTo(metainfo);","        });","        var config = {","            headerContent : M.str.mod_mediagallery.information,","            bodyContent : metainfo,","            modal : true","        }","        Y.one('.gallery_list_item[data-id='+data.id+'] .action-icon.info').on('click', function(e) {","            e.preventDefault();","            new M.core.dialogue(config);","        });","    },","","    add_item_info_modal : function(data) {","        var metainfo = Y.Node.create('<div class=\"metainfo\"></div>');","","        var list = [","            [M.str.mod_mediagallery.caption, data.caption],","            [M.str.mod_mediagallery.datecreated, data.timecreatedformatted],","            [M.str.moodle.fullnameuser, data.firstname+' '+data.lastname],","            [M.str.moodle.username, data.username],","            [M.str.moodle.group, data.groupname],","            [M.str.moodle.description, data.description],","            [M.str.mod_mediagallery.moralrights, data.moralrights == \"1\" ? M.str.moodle.yes : M.str.moodle.no],","            [M.str.mod_mediagallery.originalauthor, data.originalauthor],","            [M.str.mod_mediagallery.productiondate, data.productiondateformatted],","            [M.str.mod_mediagallery.medium, data.medium],","            [M.str.mod_mediagallery.publisher, data.publisher],","            [M.str.mod_mediagallery.collection, data.collection],","        ];","","        Y.each(list, function(v, k) {","            var display = true;","            if ((k === 4 || k === 3) && list[k][1] === null) {","                display = false;","            }","            if (display) {","                Y.Node.create('<div class=\"field\">'+v[0]+'</div><div class=\"value\">'+v[1]+'</div>').appendTo(metainfo);","            }","        });","        var config = {","            headerContent : M.str.mod_mediagallery.information,","            bodyContent : metainfo,","            modal : true","        }","        Y.one('.item[data-id='+data.id+'] .action-icon.info').on('click', function(e) {","            e.preventDefault();","            var dialogue = new M.core.dialogue(config);","            dialogue.show();","        });","    },","","    delete_object : function(data, selector) {","","        var statusspinner = false;","","        data.m = this.mid;","        data.sesskey = M.cfg.sesskey;","","        var config = {","            method: 'DELETE',","            data: data,","            on: {","                success: function(tid, response) {","                    try {","                        responsetext = Y.JSON.parse(response.responseText);","                        if (responsetext.error) {","                            new M.core.ajaxException(responsetext);","                        }","                    } catch (e) {","                        new M.core.ajaxException();","                    }","","                    if (statusspinner) {","                        window.setTimeout(function(e) {","                            statusspinner.hide();","                        }, 400);","                    }","                    // TODO: remove gallery from dom.","                    Y.one(selector+'[data-id='+data.id+']').remove();","                },","                failure : function(tid, response) {","                    if (statusspinner) {","                        statusspinner.hide();","                    }","                }","            },","            context: this,","            sync: true","        };","","        if (statusspinner) {","            statusspinner.show();","        }","","        Y.io(M.mod_mediagallery.base.uri, config);","    },","","    lbg_setup : function() {","        if (this.lbg_setup_ran) {","            return;","        }","        this.lbg_setup_ran = true;","        var node = Y.one('.lb-social');","        var template = '<div class=\"lb-extradetails\"></div><div class=\"lb-socialactions\">';","        if (this.options.enablelikes) {","            template += '<a class=\"like\" href=\"#\"><div class=\"like\"></div>'+M.str.mod_mediagallery.like+'</a><span id=\"lb-likedby\"></span>';","        }","        template += '<span id=\"lb-fullsize\"></span></div><div id=\"lb-comments\"></div>';","        node.setHTML(template);","","        // Like action.","        Y.delegate('click', function(e) {","            e.preventDefault();","","            var action = 'like';","            var likedbyme = 1;","            var text = 'unlike';","            var icon = '<div class=\"unlike\"></div>';","            if (Y.one('.lb-socialactions a.like div').hasClass('unlike')) {","                action = 'unlike';","                likedbyme = 0;","                text = 'like';","                icon = '<div class=\"like\"></div>';","            }","","            var datanode = Y.one('.lb-data');","            var data = {","                sesskey : M.cfg.sesskey,","                m : M.mod_mediagallery.base.mid,","                id : datanode.getData('itemid'),","                \"class\" : 'item',","                action : action","            };","","            var config = {","                method: 'POST',","                data: data,","                on: {","                    success : function (id, response) {","                        var resp = JSON.parse(response.responseText);","                        M.mod_mediagallery.base.update_likes(resp.likes, likedbyme);","                    }","                },","                context: this,","                sync: true","            };","","            Y.io(M.mod_mediagallery.base.uri, config);","            Y.one('.lb-socialactions a.like').setHTML(icon + M.str.mod_mediagallery[text]);","","        }, '.lb-social', '.lb-socialactions a.like');","    },","","    update_likes : function(likes, likedbyme) {","        var str = '';","        if (likes > 0) {","            str = '&nbsp;&bull;&nbsp;';","            str += M.str.mod_mediagallery.likedby+': '","            if (likedbyme) {","                likes = likes - 1;","                str += M.str.mod_mediagallery.you + ', ';","            }","            str += likes+' ';","            if (likes != 1) {","                str += M.str.mod_mediagallery.others;","            } else {","                str += M.str.mod_mediagallery.other;","            }","        }","        Y.one('#lb-likedby').setHTML(str);","    },","","    lbg_change : function(item, lb) {","        if (!this.lbg_setup_ran) {","            this.lbg_setup();","        }","","        var node = Y.one('.lb-data');","        node.setData('itemid', item.itemid);","","        if (item.player === \"0\" || item.player === \"2\") {","            this.lbg_embed_player(item.itemid, lb);","        }","","        var datanode = Y.one('.lb-data');","        var data = {","            sesskey : M.cfg.sesskey,","            m : M.mod_mediagallery.base.mid,","            id : datanode.getData('itemid'),","            \"class\" : 'item',","            action : 'socialinfo'","        };","","        var config = {","            method: 'GET',","            data: data,","            on: {","                success : function (id, response) {","                    var resp = JSON.parse(response.responseText);","                    if (resp.commentcontrol) {","                        Y.one('#lb-comments').setHTML(resp.commentcontrol);","                        var opts = {","                            client_id : resp.client_id,","                            contextid : resp.contextid,","                            itemid : datanode.getData('itemid'),","                            component : 'mod_mediagallery',","                            commentarea : 'item'","                        };","                        M.core_comment.init(Y, opts);","                    }","                    if (this.options.enablelikes) {","                        var icon = '<div class=\"like\"></div>';","                        if (resp.likedbyme) {","                            icon = '<div class=\"unlike\"></div>';","                            Y.one('.lb-socialactions a.like').setHTML(icon + M.str.mod_mediagallery.unlike);","                        } else {","                            Y.one('.lb-socialactions a.like').setHTML(icon + M.str.mod_mediagallery.like);","                        }","","                        M.mod_mediagallery.base.update_likes(resp.likes, resp.likedbyme);","                    }","","                    str = '';","                    if (item.player === \"1\") {","                        if (this.options.enablelikes) {","                            str += '&nbsp;&bull;&nbsp;';","                        }","                        str += '<a href=\"'+item.url+'?forcedownload=0\" target=\"_blank\">' +","                            M.str.mod_mediagallery.viewfullsize+'</a>';","                    }","                    Y.one('#lb-fullsize').setHTML(str);","","                    if (resp.extradetails) {","                        var details = Y.one('.lb-social .lb-extradetails');","                        details.setHTML(resp.extradetails);","                    }","                }","            },","            context: this,","            sync: true","        };","","        Y.io(M.mod_mediagallery.base.uri, config);","    },","","    lbg_embed_player : function(itemid, lb) {","        var config = {","            method: 'GET',","            data: {","                sesskey : M.cfg.sesskey,","                m : M.mod_mediagallery.base.mid,","                \"class\" : 'item',","                action : 'embed',","                id : itemid","            },","            on: {","                success : function (id, response) {","                    var resp = JSON.parse(response.responseText);","                    Y.one('.lb-image').ancestor().append(resp.html);","                    if (resp.type === 'audio') {","                        M.util.add_audio_player(resp.id, resp.url, false);","                    } else {","                        M.util.add_video_player(resp.id, resp.url, false);","                    }","                    M.mod_mediagallery.base.load_flowplayer();","                    if (resp.type === 'video') {","                        lb.sizeContainer(400, 400);","                    }","                }","            },","            context: this,","            sync: true","        };","","        Y.io(M.mod_mediagallery.base.uri, config);","    },","","    load_flowplayer : function() {","        if (M.util.video_players.length == 0 && M.util.audio_players.length == 0) {","            return;","        }","","        var embed_function = function() {","","            var controls = {","                    autoHide: true","            }","","            for(var i=0; i<M.util.video_players.length; i++) {","                var video = M.util.video_players[i];","                if (video.width > 0 && video.height > 0) {","                    var src = {src: M.cfg.wwwroot + '/lib/flowplayer/flowplayer-3.2.18.swf', width: video.width, height: video.height};","                } else {","                    var src = M.cfg.wwwroot + '/lib/flowplayer/flowplayer-3.2.18.swf';","                }","                flowplayer(video.id, src, {","                    plugins: {controls: controls},","                    clip: {","                        url: video.fileurl, autoPlay: false, autoBuffering: true, scaling: 'fit', mvideo: video,","                        onMetaData: function(clip) {","                            if (clip.mvideo.autosize && !clip.mvideo.resized) {","                                clip.mvideo.resized = true;","                                var width = 0;","                                var height = 0;","                                if (typeof(clip.metaData.width) == 'undefined' || typeof(clip.metaData.height) == 'undefined') {","                                    // bad luck, we have to guess - we may not get metadata at all","                                    width = clip.width;","                                    height = clip.height;","                                } else {","                                    width = clip.metaData.width;","                                    height = clip.metaData.height;","                                }","                                var minwidth = 300; // controls are messed up in smaller objects","                                if (width < minwidth) {","                                    height = (height * minwidth) / width;","                                    width = minwidth;","                                }","","                                var object = this._api();","                                object.width = width;","                                object.height = height;","                            }","                        }","                    }","                });","            }","            M.util.video_players = [];","            if (M.util.audio_players.length == 0) {","                return;","            }","            var controls = {","                    autoHide: false,","                    fullscreen: false,","                    next: false,","                    previous: false,","                    scrubber: true,","                    play: true,","                    pause: true,","                    volume: true,","                    mute: false,","                    backgroundGradient: [0.5,0,0.3]","                };","","            var rule;","            for (var j=0; j < document.styleSheets.length; j++) {","","                // To avoid javascript security violation accessing cross domain stylesheets","                var allrules = false;","                try {","                    if (typeof (document.styleSheets[j].rules) != 'undefined') {","                        allrules = document.styleSheets[j].rules;","                    } else if (typeof (document.styleSheets[j].cssRules) != 'undefined') {","                        allrules = document.styleSheets[j].cssRules;","                    } else {","                        // why??","                        continue;","                    }","                } catch (e) {","                    continue;","                }","","                // On cross domain style sheets Chrome V8 allows access to rules but returns null","                if (!allrules) {","                    continue;","                }","","                for(var i=0; i<allrules.length; i++) {","                    rule = '';","                    if (/^\\.mp3flowplayer_.*Color$/.test(allrules[i].selectorText)) {","                        if (typeof(allrules[i].cssText) != 'undefined') {","                            rule = allrules[i].cssText;","                        } else if (typeof(allrules[i].style.cssText) != 'undefined') {","                            rule = allrules[i].style.cssText;","                        }","                        if (rule != '' && /.*color\\s*:\\s*([^;]+).*/gi.test(rule)) {","                            rule = rule.replace(/.*color\\s*:\\s*([^;]+).*/gi, '$1');","                            var colprop = allrules[i].selectorText.replace(/^\\.mp3flowplayer_/, '');","                            controls[colprop] = rule;","                        }","                    }","                }","                allrules = false;","            }","","            for(i=0; i<M.util.audio_players.length; i++) {","                var audio = M.util.audio_players[i];","                if (audio.small) {","                    controls.controlall = false;","                    controls.height = 15;","                    controls.time = false;","                } else {","                    controls.controlall = true;","                    controls.height = 25;","                    controls.time = true;","                }","                flowplayer(audio.id, M.cfg.wwwroot + '/lib/flowplayer/flowplayer-3.2.18.swf', {","                    plugins: {controls: controls, audio: {url: M.cfg.wwwroot + '/lib/flowplayer/flowplayer.audio-3.2.11.swf'}},","                    clip: {url: audio.fileurl, provider: \"audio\", autoPlay: false}","                });","            }","            M.util.audio_players = [];","        }","","        if (typeof(flowplayer) == 'undefined') {","            if (M.cfg.jsrev == -1) {","                var jsurl = M.cfg.wwwroot + '/lib/flowplayer/flowplayer-3.2.13.js';","            } else {","                var jsurl = M.cfg.wwwroot + '/lib/javascript.php?jsfile=/lib/flowplayer/flowplayer-3.2.13.min.js&rev=' + M.cfg.jsrev;","            }","            var fileref = document.createElement('script');","            fileref.setAttribute('type','text/javascript');","            fileref.setAttribute('src', jsurl);","            fileref.onload = embed_function;","            fileref.onreadystatechange = embed_function;","            document.getElementsByTagName('head')[0].appendChild(fileref);","        } else {","            embed_function();","        }","    },","","    setup_sample_link : function() {","        var config = {","            title : M.str.mod_mediagallery.addsamplegallery,","            question : '<img src=\"'+M.util.image_url('i/loading_small')+'\" title=\"Processing...\" />',","            yesLabel : M.str.moodle.add,","            noLabel : M.str.moodle.cancel,","            closeButtonTitle : M.str.moodle.cancel","        };","","        if (Y.one('#mg_sample')) {","            Y.one('#mg_sample').on('click', function(e) {","                e.preventDefault();","","                // Create the confirm box.","                var confirm = new M.core.confirm(config);","","                var ioconfig = {","                    method: 'GET',","                    data: {","                        sesskey : M.cfg.sesskey,","                        m : M.mod_mediagallery.base.mid,","                        \"class\" : 'gallery',","                        action : 'get_sample_targets'","                    },","                    on: {","                        success: function(tid, response) {","                            try {","                                responsetext = Y.JSON.parse(response.responseText);","                                if (responsetext.error) {","                                    new M.core.ajaxException(responsetext);","                                }","                            } catch (e) {","                                new M.core.ajaxException();","                            }","                            var node = Y.Node.create('<div class=\"sample_target_wrapper\"><span>'+M.str.mod_mediagallery.mediagallery+':</span></div>');","                            var select = Y.Node.create('<select id=\"sample_target\"/>');","                            node.append(select);","                            Y.Object.each(responsetext, function(v, k) {","                                Y.Node.create('<option value=\"'+k+'\">'+v+'</option>').appendTo(select);","                            });","                            confirm.bodyNode.one('.confirmation-message').setHTML(node);","                        },","                        failure : function(tid, response) {","                        }","                    },","                    context: this,","                    sync: true","                };","                Y.io(M.mod_mediagallery.base.uri, ioconfig);","","                // If the user clicks add.","                confirm.on('complete-yes', function(e) {","                    var target = Y.one('#sample_target').get('value');","                    var ioconfig = {","                        method: 'POST',","                        data: {","                            sesskey : M.cfg.sesskey,","                            m : M.mod_mediagallery.base.mid,","                            \"class\" : 'gallery',","                            id : M.mod_mediagallery.base.gallery,","                            action : 'sample',","                            \"data[]\" : target","                        },","                        on: {","                            success: function(tid, response) {","                                try {","                                    responsetext = Y.JSON.parse(response.responseText);","                                    if (responsetext.error) {","                                        new M.core.ajaxException(responsetext);","                                    }","                                } catch (e) {","                                    new M.core.ajaxException();","                                }","                            },","                            failure : function(tid, response) {","                            }","                        },","                        context: this,","                        sync: true","                    };","                    Y.io(M.mod_mediagallery.base.uri, ioconfig);","                }, this);","                // Show the confirm box","                confirm.show();","            });","        }","    }","};","M.mod_mediagallery = M.mod_mediagallery || {};","M.mod_mediagallery.dragdrop = {","","    CSS : {","        CONTAINER : '.gallery_items',","        ITEMS : '.gallery_items .item',","        CONTROLCONTAINER : '.controls',","        HANDLE : '.controls :first-child',","        HANDLELINK : '.controls .move'","    },","","    init : function() {","        var MOVEICON = {","            pix: \"i/move_2d\",","            component: 'moodle'","        };","","        //Static Vars","        var goingUp = false, lastX = 0, lastY = 0;","","        var list = Y.Node.all(this.CSS.ITEMS);","        list.each(function(v, k) {","            var CSS = M.mod_mediagallery.dragdrop.CSS;","            // Replace move link and image with move_2d image.","            var imagenode = Y.Node.create('<img class=\"smallicon move action-icon\" title=\"'+M.str.moodle.move+'\"/>');","            imagenode.setAttribute('src', M.util.image_url(MOVEICON.pix, MOVEICON.component));","            imagenode.addClass('cursor');","            v.one(CSS.CONTROLCONTAINER).prepend(imagenode);","","            var dd = new Y.DD.Drag({","                node: v,","                target: {","                    padding: '0 0 0 20'","                }","            }).plug(Y.Plugin.DDProxy, {","                moveOnEnd: false","            }).plug(Y.Plugin.DDConstrained, {","                constrain2node: CSS.CONTAINER","            });","            dd.addHandle(CSS.HANDLE);","        });","","        Y.DD.DDM.on('drag:start', function(e) {","            e.preventDefault();","            //Get our drag object","            var drag = e.target;","            //Set some styles here","            drag.get('node').setStyle('opacity', '.25');","            drag.get('dragNode').addClass('mod_mediagallery item');","            drag.get('dragNode').set('innerHTML', drag.get('node').get('innerHTML'));","            drag.get('dragNode').setStyles({","                opacity: '.5',","                borderColor: drag.get('node').getStyle('borderColor'),","                backgroundColor: drag.get('node').getStyle('backgroundColor')","            });","        });","","        Y.DD.DDM.on('drag:end', function(e) {","            var drag = e.target;","            //Put our styles back","            drag.get('node').setStyles({","                visibility: '',","                opacity: '1'","            });","            M.mod_mediagallery.dragdrop.save();","        });","","        Y.DD.DDM.on('drag:drag', function(e) {","            //Get the last y point","            var x = e.target.lastXY[0];","            var y = e.target.lastXY[1];","            if (x < lastX) {","                //We are going up","                goingUp = true;","            } else {","                //We are going down.","                goingUp = false;","            }","            //Cache for next check","            lasyX = x;","            lastY = y;","","        });","","        Y.DD.DDM.on('drop:over', function(e) {","            //Get a reference to our drag and drop nodes","            var drag = e.drag.get('node'),","                drop = e.drop.get('node');","","            var list = Y.all(M.mod_mediagallery.dragdrop.CSS.ITEMS);","            if (list.indexOf(drop) < list.indexOf(drag)) {","                goingUp = true;","            } else {","                goingUp = false;","            }","","            if (drop.hasClass('item')) {","                //Are we not going up?","                if (!goingUp) {","                    drop = drop.get('nextSibling');","                }","                //Add the node to this list","                e.drop.get('node').get('parentNode').insertBefore(drag, drop);","                //Resize this nodes shim, so we can drop on it later.","                e.drop.sizeShim();","            }","        });","","        Y.DD.DDM.on('drag:drophit', function(e) {","            var drop = e.drop.get('node'),","                drag = e.drag.get('node');","","            //if we are not on an li, we must have been dropped on a ul","            if (!drop.hasClass('item')) {","                if (!drop.contains(drag)) {","                    drop.appendChild(drag);","                }","            }","        });","    },","","    save : function() {","        var sortorder = Y.one(this.CSS.CONTAINER).get('children').getData('id');","        var params = {","            sesskey : M.cfg.sesskey,","            data : sortorder,","            \"class\" : 'gallery',","            m : M.mod_mediagallery.base.mid,","            id : M.mod_mediagallery.base.gallery,","            action : 'sortorder'","        };","        Y.io(M.cfg.wwwroot+'/mod/mediagallery/rest.php', {","            method: 'POST',","            data: build_querystring(params),","            context: this","        });","    }","};","","","}, '@VERSION@', {","    \"requires\": [","        \"base\",","        \"node\",","        \"selector-css3\",","        \"dd-constrain\",","        \"dd-proxy\",","        \"dd-drop\",","        \"dd-plugin\",","        \"moodle-core-notification\"","    ]","});","","}());"]};
}
var __cov_RP9J4F5CYLGGpBNSukcgUw = __coverage__['build/moodle-mod_mediagallery-base/moodle-mod_mediagallery-base.js'];
__cov_RP9J4F5CYLGGpBNSukcgUw.s['1']++;YUI.add('moodle-mod_mediagallery-base',function(Y,NAME){__cov_RP9J4F5CYLGGpBNSukcgUw.f['1']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['2']++;M.mod_mediagallery=(__cov_RP9J4F5CYLGGpBNSukcgUw.b['1'][0]++,M.mod_mediagallery)||(__cov_RP9J4F5CYLGGpBNSukcgUw.b['1'][1]++,{});__cov_RP9J4F5CYLGGpBNSukcgUw.s['3']++;M.mod_mediagallery.base={mid:0,gallery:0,lbg_setup_ran:false,options:{enablecomments:false,enablelikes:false},uri:M.cfg.wwwroot+'/mod/mediagallery/rest.php',init:function(mid,type,editing,gallery,options){__cov_RP9J4F5CYLGGpBNSukcgUw.f['2']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['4']++;this.mid=mid;__cov_RP9J4F5CYLGGpBNSukcgUw.s['5']++;this.gallery=gallery;__cov_RP9J4F5CYLGGpBNSukcgUw.s['6']++;if((__cov_RP9J4F5CYLGGpBNSukcgUw.b['3'][0]++,editing)||(__cov_RP9J4F5CYLGGpBNSukcgUw.b['3'][1]++,type==='gallery')){__cov_RP9J4F5CYLGGpBNSukcgUw.b['2'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['7']++;this.watch_editing_buttons(type);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['2'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['8']++;if((__cov_RP9J4F5CYLGGpBNSukcgUw.b['5'][0]++,options)&&(__cov_RP9J4F5CYLGGpBNSukcgUw.b['5'][1]++,options.enablecomments)){__cov_RP9J4F5CYLGGpBNSukcgUw.b['4'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['9']++;this.options.enablecomments=true;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['4'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['10']++;if((__cov_RP9J4F5CYLGGpBNSukcgUw.b['7'][0]++,options)&&(__cov_RP9J4F5CYLGGpBNSukcgUw.b['7'][1]++,options.enablelikes)){__cov_RP9J4F5CYLGGpBNSukcgUw.b['6'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['11']++;this.options.enablelikes=true;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['6'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['12']++;this.setup_sample_link();},watch_editing_buttons:function(type){__cov_RP9J4F5CYLGGpBNSukcgUw.f['3']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['13']++;var selector='.gallery_list_item';__cov_RP9J4F5CYLGGpBNSukcgUw.s['14']++;if(type==='item'){__cov_RP9J4F5CYLGGpBNSukcgUw.b['8'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['15']++;selector='.item';}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['8'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['16']++;var config={title:M.str.mod_mediagallery['confirm'+type+'delete'],origquestion:M.str.mod_mediagallery['delete'+type]+' ',yesLabel:M.str.moodle.yes,noLabel:M.str.moodle.cancel,closeButtonTitle:M.str.moodle.cancel};__cov_RP9J4F5CYLGGpBNSukcgUw.s['17']++;Y.all(selector+' .action-icon.delete').each(function(){__cov_RP9J4F5CYLGGpBNSukcgUw.f['4']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['18']++;this._confirmationListener=(__cov_RP9J4F5CYLGGpBNSukcgUw.b['9'][0]++,this._confirmationListener)||(__cov_RP9J4F5CYLGGpBNSukcgUw.b['9'][1]++,this.on('click',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['5']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['19']++;e.preventDefault();__cov_RP9J4F5CYLGGpBNSukcgUw.s['20']++;var itemdata=this.ancestor('div'+selector).getData();__cov_RP9J4F5CYLGGpBNSukcgUw.s['21']++;config.question=config.origquestion+itemdata.title+'?';__cov_RP9J4F5CYLGGpBNSukcgUw.s['22']++;var confirm=new M.core.confirm(config);__cov_RP9J4F5CYLGGpBNSukcgUw.s['23']++;confirm.on('complete-yes',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['6']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['24']++;this._confirmationListener.detach();__cov_RP9J4F5CYLGGpBNSukcgUw.s['25']++;itemdata['class']=type;__cov_RP9J4F5CYLGGpBNSukcgUw.s['26']++;M.mod_mediagallery.base.delete_object(itemdata,selector);},this);__cov_RP9J4F5CYLGGpBNSukcgUw.s['27']++;confirm.show();},this));});},add_gallery_info_modal:function(courseid,data){__cov_RP9J4F5CYLGGpBNSukcgUw.f['7']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['28']++;var metainfo=Y.Node.create('<div class="metainfo"></div>');__cov_RP9J4F5CYLGGpBNSukcgUw.s['29']++;var userlink='<a href="'+M.cfg.wwwroot+'/user/view.php?id='+data.userid+'&course='+courseid+'">'+data.firstname+' '+data.lastname+'</a>';__cov_RP9J4F5CYLGGpBNSukcgUw.s['30']++;var list=[[M.str.mod_mediagallery.galleryname,data.name],[M.str.mod_mediagallery.creator,userlink]];__cov_RP9J4F5CYLGGpBNSukcgUw.s['31']++;if(data.groupname!==null){__cov_RP9J4F5CYLGGpBNSukcgUw.b['10'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['32']++;list.push([M.str.moodle.group,data.groupname]);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['10'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['33']++;Y.each(list,function(v){__cov_RP9J4F5CYLGGpBNSukcgUw.f['8']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['34']++;Y.Node.create('<div class="field">'+v[0]+'</div><div class="value">'+v[1]+'</div>').appendTo(metainfo);});__cov_RP9J4F5CYLGGpBNSukcgUw.s['35']++;var config={headerContent:M.str.mod_mediagallery.information,bodyContent:metainfo,modal:true};__cov_RP9J4F5CYLGGpBNSukcgUw.s['36']++;Y.one('.gallery_list_item[data-id='+data.id+'] .action-icon.info').on('click',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['9']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['37']++;e.preventDefault();__cov_RP9J4F5CYLGGpBNSukcgUw.s['38']++;new M.core.dialogue(config);});},add_item_info_modal:function(data){__cov_RP9J4F5CYLGGpBNSukcgUw.f['10']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['39']++;var metainfo=Y.Node.create('<div class="metainfo"></div>');__cov_RP9J4F5CYLGGpBNSukcgUw.s['40']++;var list=[[M.str.mod_mediagallery.caption,data.caption],[M.str.mod_mediagallery.datecreated,data.timecreatedformatted],[M.str.moodle.fullnameuser,data.firstname+' '+data.lastname],[M.str.moodle.username,data.username],[M.str.moodle.group,data.groupname],[M.str.moodle.description,data.description],[M.str.mod_mediagallery.moralrights,data.moralrights=='1'?(__cov_RP9J4F5CYLGGpBNSukcgUw.b['11'][0]++,M.str.moodle.yes):(__cov_RP9J4F5CYLGGpBNSukcgUw.b['11'][1]++,M.str.moodle.no)],[M.str.mod_mediagallery.originalauthor,data.originalauthor],[M.str.mod_mediagallery.productiondate,data.productiondateformatted],[M.str.mod_mediagallery.medium,data.medium],[M.str.mod_mediagallery.publisher,data.publisher],[M.str.mod_mediagallery.collection,data.collection]];__cov_RP9J4F5CYLGGpBNSukcgUw.s['41']++;Y.each(list,function(v,k){__cov_RP9J4F5CYLGGpBNSukcgUw.f['11']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['42']++;var display=true;__cov_RP9J4F5CYLGGpBNSukcgUw.s['43']++;if(((__cov_RP9J4F5CYLGGpBNSukcgUw.b['13'][0]++,k===4)||(__cov_RP9J4F5CYLGGpBNSukcgUw.b['13'][1]++,k===3))&&(__cov_RP9J4F5CYLGGpBNSukcgUw.b['13'][2]++,list[k][1]===null)){__cov_RP9J4F5CYLGGpBNSukcgUw.b['12'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['44']++;display=false;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['12'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['45']++;if(display){__cov_RP9J4F5CYLGGpBNSukcgUw.b['14'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['46']++;Y.Node.create('<div class="field">'+v[0]+'</div><div class="value">'+v[1]+'</div>').appendTo(metainfo);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['14'][1]++;}});__cov_RP9J4F5CYLGGpBNSukcgUw.s['47']++;var config={headerContent:M.str.mod_mediagallery.information,bodyContent:metainfo,modal:true};__cov_RP9J4F5CYLGGpBNSukcgUw.s['48']++;Y.one('.item[data-id='+data.id+'] .action-icon.info').on('click',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['12']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['49']++;e.preventDefault();__cov_RP9J4F5CYLGGpBNSukcgUw.s['50']++;var dialogue=new M.core.dialogue(config);__cov_RP9J4F5CYLGGpBNSukcgUw.s['51']++;dialogue.show();});},delete_object:function(data,selector){__cov_RP9J4F5CYLGGpBNSukcgUw.f['13']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['52']++;var statusspinner=false;__cov_RP9J4F5CYLGGpBNSukcgUw.s['53']++;data.m=this.mid;__cov_RP9J4F5CYLGGpBNSukcgUw.s['54']++;data.sesskey=M.cfg.sesskey;__cov_RP9J4F5CYLGGpBNSukcgUw.s['55']++;var config={method:'DELETE',data:data,on:{success:function(tid,response){__cov_RP9J4F5CYLGGpBNSukcgUw.f['14']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['56']++;try{__cov_RP9J4F5CYLGGpBNSukcgUw.s['57']++;responsetext=Y.JSON.parse(response.responseText);__cov_RP9J4F5CYLGGpBNSukcgUw.s['58']++;if(responsetext.error){__cov_RP9J4F5CYLGGpBNSukcgUw.b['15'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['59']++;new M.core.ajaxException(responsetext);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['15'][1]++;}}catch(e){__cov_RP9J4F5CYLGGpBNSukcgUw.s['60']++;new M.core.ajaxException();}__cov_RP9J4F5CYLGGpBNSukcgUw.s['61']++;if(statusspinner){__cov_RP9J4F5CYLGGpBNSukcgUw.b['16'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['62']++;window.setTimeout(function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['15']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['63']++;statusspinner.hide();},400);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['16'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['64']++;Y.one(selector+'[data-id='+data.id+']').remove();},failure:function(tid,response){__cov_RP9J4F5CYLGGpBNSukcgUw.f['16']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['65']++;if(statusspinner){__cov_RP9J4F5CYLGGpBNSukcgUw.b['17'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['66']++;statusspinner.hide();}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['17'][1]++;}}},context:this,sync:true};__cov_RP9J4F5CYLGGpBNSukcgUw.s['67']++;if(statusspinner){__cov_RP9J4F5CYLGGpBNSukcgUw.b['18'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['68']++;statusspinner.show();}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['18'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['69']++;Y.io(M.mod_mediagallery.base.uri,config);},lbg_setup:function(){__cov_RP9J4F5CYLGGpBNSukcgUw.f['17']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['70']++;if(this.lbg_setup_ran){__cov_RP9J4F5CYLGGpBNSukcgUw.b['19'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['71']++;return;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['19'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['72']++;this.lbg_setup_ran=true;__cov_RP9J4F5CYLGGpBNSukcgUw.s['73']++;var node=Y.one('.lb-social');__cov_RP9J4F5CYLGGpBNSukcgUw.s['74']++;var template='<div class="lb-extradetails"></div><div class="lb-socialactions">';__cov_RP9J4F5CYLGGpBNSukcgUw.s['75']++;if(this.options.enablelikes){__cov_RP9J4F5CYLGGpBNSukcgUw.b['20'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['76']++;template+='<a class="like" href="#"><div class="like"></div>'+M.str.mod_mediagallery.like+'</a><span id="lb-likedby"></span>';}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['20'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['77']++;template+='<span id="lb-fullsize"></span></div><div id="lb-comments"></div>';__cov_RP9J4F5CYLGGpBNSukcgUw.s['78']++;node.setHTML(template);__cov_RP9J4F5CYLGGpBNSukcgUw.s['79']++;Y.delegate('click',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['18']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['80']++;e.preventDefault();__cov_RP9J4F5CYLGGpBNSukcgUw.s['81']++;var action='like';__cov_RP9J4F5CYLGGpBNSukcgUw.s['82']++;var likedbyme=1;__cov_RP9J4F5CYLGGpBNSukcgUw.s['83']++;var text='unlike';__cov_RP9J4F5CYLGGpBNSukcgUw.s['84']++;var icon='<div class="unlike"></div>';__cov_RP9J4F5CYLGGpBNSukcgUw.s['85']++;if(Y.one('.lb-socialactions a.like div').hasClass('unlike')){__cov_RP9J4F5CYLGGpBNSukcgUw.b['21'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['86']++;action='unlike';__cov_RP9J4F5CYLGGpBNSukcgUw.s['87']++;likedbyme=0;__cov_RP9J4F5CYLGGpBNSukcgUw.s['88']++;text='like';__cov_RP9J4F5CYLGGpBNSukcgUw.s['89']++;icon='<div class="like"></div>';}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['21'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['90']++;var datanode=Y.one('.lb-data');__cov_RP9J4F5CYLGGpBNSukcgUw.s['91']++;var data={sesskey:M.cfg.sesskey,m:M.mod_mediagallery.base.mid,id:datanode.getData('itemid'),'class':'item',action:action};__cov_RP9J4F5CYLGGpBNSukcgUw.s['92']++;var config={method:'POST',data:data,on:{success:function(id,response){__cov_RP9J4F5CYLGGpBNSukcgUw.f['19']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['93']++;var resp=JSON.parse(response.responseText);__cov_RP9J4F5CYLGGpBNSukcgUw.s['94']++;M.mod_mediagallery.base.update_likes(resp.likes,likedbyme);}},context:this,sync:true};__cov_RP9J4F5CYLGGpBNSukcgUw.s['95']++;Y.io(M.mod_mediagallery.base.uri,config);__cov_RP9J4F5CYLGGpBNSukcgUw.s['96']++;Y.one('.lb-socialactions a.like').setHTML(icon+M.str.mod_mediagallery[text]);},'.lb-social','.lb-socialactions a.like');},update_likes:function(likes,likedbyme){__cov_RP9J4F5CYLGGpBNSukcgUw.f['20']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['97']++;var str='';__cov_RP9J4F5CYLGGpBNSukcgUw.s['98']++;if(likes>0){__cov_RP9J4F5CYLGGpBNSukcgUw.b['22'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['99']++;str='&nbsp;&bull;&nbsp;';__cov_RP9J4F5CYLGGpBNSukcgUw.s['100']++;str+=M.str.mod_mediagallery.likedby+': ';__cov_RP9J4F5CYLGGpBNSukcgUw.s['101']++;if(likedbyme){__cov_RP9J4F5CYLGGpBNSukcgUw.b['23'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['102']++;likes=likes-1;__cov_RP9J4F5CYLGGpBNSukcgUw.s['103']++;str+=M.str.mod_mediagallery.you+', ';}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['23'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['104']++;str+=likes+' ';__cov_RP9J4F5CYLGGpBNSukcgUw.s['105']++;if(likes!=1){__cov_RP9J4F5CYLGGpBNSukcgUw.b['24'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['106']++;str+=M.str.mod_mediagallery.others;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['24'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['107']++;str+=M.str.mod_mediagallery.other;}}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['22'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['108']++;Y.one('#lb-likedby').setHTML(str);},lbg_change:function(item,lb){__cov_RP9J4F5CYLGGpBNSukcgUw.f['21']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['109']++;if(!this.lbg_setup_ran){__cov_RP9J4F5CYLGGpBNSukcgUw.b['25'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['110']++;this.lbg_setup();}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['25'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['111']++;var node=Y.one('.lb-data');__cov_RP9J4F5CYLGGpBNSukcgUw.s['112']++;node.setData('itemid',item.itemid);__cov_RP9J4F5CYLGGpBNSukcgUw.s['113']++;if((__cov_RP9J4F5CYLGGpBNSukcgUw.b['27'][0]++,item.player==='0')||(__cov_RP9J4F5CYLGGpBNSukcgUw.b['27'][1]++,item.player==='2')){__cov_RP9J4F5CYLGGpBNSukcgUw.b['26'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['114']++;this.lbg_embed_player(item.itemid,lb);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['26'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['115']++;var datanode=Y.one('.lb-data');__cov_RP9J4F5CYLGGpBNSukcgUw.s['116']++;var data={sesskey:M.cfg.sesskey,m:M.mod_mediagallery.base.mid,id:datanode.getData('itemid'),'class':'item',action:'socialinfo'};__cov_RP9J4F5CYLGGpBNSukcgUw.s['117']++;var config={method:'GET',data:data,on:{success:function(id,response){__cov_RP9J4F5CYLGGpBNSukcgUw.f['22']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['118']++;var resp=JSON.parse(response.responseText);__cov_RP9J4F5CYLGGpBNSukcgUw.s['119']++;if(resp.commentcontrol){__cov_RP9J4F5CYLGGpBNSukcgUw.b['28'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['120']++;Y.one('#lb-comments').setHTML(resp.commentcontrol);__cov_RP9J4F5CYLGGpBNSukcgUw.s['121']++;var opts={client_id:resp.client_id,contextid:resp.contextid,itemid:datanode.getData('itemid'),component:'mod_mediagallery',commentarea:'item'};__cov_RP9J4F5CYLGGpBNSukcgUw.s['122']++;M.core_comment.init(Y,opts);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['28'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['123']++;if(this.options.enablelikes){__cov_RP9J4F5CYLGGpBNSukcgUw.b['29'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['124']++;var icon='<div class="like"></div>';__cov_RP9J4F5CYLGGpBNSukcgUw.s['125']++;if(resp.likedbyme){__cov_RP9J4F5CYLGGpBNSukcgUw.b['30'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['126']++;icon='<div class="unlike"></div>';__cov_RP9J4F5CYLGGpBNSukcgUw.s['127']++;Y.one('.lb-socialactions a.like').setHTML(icon+M.str.mod_mediagallery.unlike);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['30'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['128']++;Y.one('.lb-socialactions a.like').setHTML(icon+M.str.mod_mediagallery.like);}__cov_RP9J4F5CYLGGpBNSukcgUw.s['129']++;M.mod_mediagallery.base.update_likes(resp.likes,resp.likedbyme);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['29'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['130']++;str='';__cov_RP9J4F5CYLGGpBNSukcgUw.s['131']++;if(item.player==='1'){__cov_RP9J4F5CYLGGpBNSukcgUw.b['31'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['132']++;if(this.options.enablelikes){__cov_RP9J4F5CYLGGpBNSukcgUw.b['32'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['133']++;str+='&nbsp;&bull;&nbsp;';}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['32'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['134']++;str+='<a href="'+item.url+'?forcedownload=0" target="_blank">'+M.str.mod_mediagallery.viewfullsize+'</a>';}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['31'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['135']++;Y.one('#lb-fullsize').setHTML(str);__cov_RP9J4F5CYLGGpBNSukcgUw.s['136']++;if(resp.extradetails){__cov_RP9J4F5CYLGGpBNSukcgUw.b['33'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['137']++;var details=Y.one('.lb-social .lb-extradetails');__cov_RP9J4F5CYLGGpBNSukcgUw.s['138']++;details.setHTML(resp.extradetails);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['33'][1]++;}}},context:this,sync:true};__cov_RP9J4F5CYLGGpBNSukcgUw.s['139']++;Y.io(M.mod_mediagallery.base.uri,config);},lbg_embed_player:function(itemid,lb){__cov_RP9J4F5CYLGGpBNSukcgUw.f['23']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['140']++;var config={method:'GET',data:{sesskey:M.cfg.sesskey,m:M.mod_mediagallery.base.mid,'class':'item',action:'embed',id:itemid},on:{success:function(id,response){__cov_RP9J4F5CYLGGpBNSukcgUw.f['24']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['141']++;var resp=JSON.parse(response.responseText);__cov_RP9J4F5CYLGGpBNSukcgUw.s['142']++;Y.one('.lb-image').ancestor().append(resp.html);__cov_RP9J4F5CYLGGpBNSukcgUw.s['143']++;if(resp.type==='audio'){__cov_RP9J4F5CYLGGpBNSukcgUw.b['34'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['144']++;M.util.add_audio_player(resp.id,resp.url,false);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['34'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['145']++;M.util.add_video_player(resp.id,resp.url,false);}__cov_RP9J4F5CYLGGpBNSukcgUw.s['146']++;M.mod_mediagallery.base.load_flowplayer();__cov_RP9J4F5CYLGGpBNSukcgUw.s['147']++;if(resp.type==='video'){__cov_RP9J4F5CYLGGpBNSukcgUw.b['35'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['148']++;lb.sizeContainer(400,400);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['35'][1]++;}}},context:this,sync:true};__cov_RP9J4F5CYLGGpBNSukcgUw.s['149']++;Y.io(M.mod_mediagallery.base.uri,config);},load_flowplayer:function(){__cov_RP9J4F5CYLGGpBNSukcgUw.f['25']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['150']++;if((__cov_RP9J4F5CYLGGpBNSukcgUw.b['37'][0]++,M.util.video_players.length==0)&&(__cov_RP9J4F5CYLGGpBNSukcgUw.b['37'][1]++,M.util.audio_players.length==0)){__cov_RP9J4F5CYLGGpBNSukcgUw.b['36'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['151']++;return;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['36'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['152']++;var embed_function=function(){__cov_RP9J4F5CYLGGpBNSukcgUw.f['26']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['153']++;var controls={autoHide:true};__cov_RP9J4F5CYLGGpBNSukcgUw.s['154']++;for(var i=0;i<M.util.video_players.length;i++){__cov_RP9J4F5CYLGGpBNSukcgUw.s['155']++;var video=M.util.video_players[i];__cov_RP9J4F5CYLGGpBNSukcgUw.s['156']++;if((__cov_RP9J4F5CYLGGpBNSukcgUw.b['39'][0]++,video.width>0)&&(__cov_RP9J4F5CYLGGpBNSukcgUw.b['39'][1]++,video.height>0)){__cov_RP9J4F5CYLGGpBNSukcgUw.b['38'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['157']++;var src={src:M.cfg.wwwroot+'/lib/flowplayer/flowplayer-3.2.18.swf',width:video.width,height:video.height};}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['38'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['158']++;var src=M.cfg.wwwroot+'/lib/flowplayer/flowplayer-3.2.18.swf';}__cov_RP9J4F5CYLGGpBNSukcgUw.s['159']++;flowplayer(video.id,src,{plugins:{controls:controls},clip:{url:video.fileurl,autoPlay:false,autoBuffering:true,scaling:'fit',mvideo:video,onMetaData:function(clip){__cov_RP9J4F5CYLGGpBNSukcgUw.f['27']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['160']++;if((__cov_RP9J4F5CYLGGpBNSukcgUw.b['41'][0]++,clip.mvideo.autosize)&&(__cov_RP9J4F5CYLGGpBNSukcgUw.b['41'][1]++,!clip.mvideo.resized)){__cov_RP9J4F5CYLGGpBNSukcgUw.b['40'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['161']++;clip.mvideo.resized=true;__cov_RP9J4F5CYLGGpBNSukcgUw.s['162']++;var width=0;__cov_RP9J4F5CYLGGpBNSukcgUw.s['163']++;var height=0;__cov_RP9J4F5CYLGGpBNSukcgUw.s['164']++;if((__cov_RP9J4F5CYLGGpBNSukcgUw.b['43'][0]++,typeof clip.metaData.width=='undefined')||(__cov_RP9J4F5CYLGGpBNSukcgUw.b['43'][1]++,typeof clip.metaData.height=='undefined')){__cov_RP9J4F5CYLGGpBNSukcgUw.b['42'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['165']++;width=clip.width;__cov_RP9J4F5CYLGGpBNSukcgUw.s['166']++;height=clip.height;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['42'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['167']++;width=clip.metaData.width;__cov_RP9J4F5CYLGGpBNSukcgUw.s['168']++;height=clip.metaData.height;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['169']++;var minwidth=300;__cov_RP9J4F5CYLGGpBNSukcgUw.s['170']++;if(width<minwidth){__cov_RP9J4F5CYLGGpBNSukcgUw.b['44'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['171']++;height=height*minwidth/width;__cov_RP9J4F5CYLGGpBNSukcgUw.s['172']++;width=minwidth;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['44'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['173']++;var object=this._api();__cov_RP9J4F5CYLGGpBNSukcgUw.s['174']++;object.width=width;__cov_RP9J4F5CYLGGpBNSukcgUw.s['175']++;object.height=height;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['40'][1]++;}}}});}__cov_RP9J4F5CYLGGpBNSukcgUw.s['176']++;M.util.video_players=[];__cov_RP9J4F5CYLGGpBNSukcgUw.s['177']++;if(M.util.audio_players.length==0){__cov_RP9J4F5CYLGGpBNSukcgUw.b['45'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['178']++;return;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['45'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['179']++;var controls={autoHide:false,fullscreen:false,next:false,previous:false,scrubber:true,play:true,pause:true,volume:true,mute:false,backgroundGradient:[0.5,0,0.3]};__cov_RP9J4F5CYLGGpBNSukcgUw.s['180']++;var rule;__cov_RP9J4F5CYLGGpBNSukcgUw.s['181']++;for(var j=0;j<document.styleSheets.length;j++){__cov_RP9J4F5CYLGGpBNSukcgUw.s['182']++;var allrules=false;__cov_RP9J4F5CYLGGpBNSukcgUw.s['183']++;try{__cov_RP9J4F5CYLGGpBNSukcgUw.s['184']++;if(typeof document.styleSheets[j].rules!='undefined'){__cov_RP9J4F5CYLGGpBNSukcgUw.b['46'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['185']++;allrules=document.styleSheets[j].rules;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['46'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['186']++;if(typeof document.styleSheets[j].cssRules!='undefined'){__cov_RP9J4F5CYLGGpBNSukcgUw.b['47'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['187']++;allrules=document.styleSheets[j].cssRules;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['47'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['188']++;continue;}}}catch(e){__cov_RP9J4F5CYLGGpBNSukcgUw.s['189']++;continue;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['190']++;if(!allrules){__cov_RP9J4F5CYLGGpBNSukcgUw.b['48'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['191']++;continue;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['48'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['192']++;for(var i=0;i<allrules.length;i++){__cov_RP9J4F5CYLGGpBNSukcgUw.s['193']++;rule='';__cov_RP9J4F5CYLGGpBNSukcgUw.s['194']++;if(/^\.mp3flowplayer_.*Color$/.test(allrules[i].selectorText)){__cov_RP9J4F5CYLGGpBNSukcgUw.b['49'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['195']++;if(typeof allrules[i].cssText!='undefined'){__cov_RP9J4F5CYLGGpBNSukcgUw.b['50'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['196']++;rule=allrules[i].cssText;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['50'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['197']++;if(typeof allrules[i].style.cssText!='undefined'){__cov_RP9J4F5CYLGGpBNSukcgUw.b['51'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['198']++;rule=allrules[i].style.cssText;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['51'][1]++;}}__cov_RP9J4F5CYLGGpBNSukcgUw.s['199']++;if((__cov_RP9J4F5CYLGGpBNSukcgUw.b['53'][0]++,rule!='')&&(__cov_RP9J4F5CYLGGpBNSukcgUw.b['53'][1]++,/.*color\s*:\s*([^;]+).*/gi.test(rule))){__cov_RP9J4F5CYLGGpBNSukcgUw.b['52'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['200']++;rule=rule.replace(/.*color\s*:\s*([^;]+).*/gi,'$1');__cov_RP9J4F5CYLGGpBNSukcgUw.s['201']++;var colprop=allrules[i].selectorText.replace(/^\.mp3flowplayer_/,'');__cov_RP9J4F5CYLGGpBNSukcgUw.s['202']++;controls[colprop]=rule;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['52'][1]++;}}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['49'][1]++;}}__cov_RP9J4F5CYLGGpBNSukcgUw.s['203']++;allrules=false;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['204']++;for(i=0;i<M.util.audio_players.length;i++){__cov_RP9J4F5CYLGGpBNSukcgUw.s['205']++;var audio=M.util.audio_players[i];__cov_RP9J4F5CYLGGpBNSukcgUw.s['206']++;if(audio.small){__cov_RP9J4F5CYLGGpBNSukcgUw.b['54'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['207']++;controls.controlall=false;__cov_RP9J4F5CYLGGpBNSukcgUw.s['208']++;controls.height=15;__cov_RP9J4F5CYLGGpBNSukcgUw.s['209']++;controls.time=false;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['54'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['210']++;controls.controlall=true;__cov_RP9J4F5CYLGGpBNSukcgUw.s['211']++;controls.height=25;__cov_RP9J4F5CYLGGpBNSukcgUw.s['212']++;controls.time=true;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['213']++;flowplayer(audio.id,M.cfg.wwwroot+'/lib/flowplayer/flowplayer-3.2.18.swf',{plugins:{controls:controls,audio:{url:M.cfg.wwwroot+'/lib/flowplayer/flowplayer.audio-3.2.11.swf'}},clip:{url:audio.fileurl,provider:'audio',autoPlay:false}});}__cov_RP9J4F5CYLGGpBNSukcgUw.s['214']++;M.util.audio_players=[];};__cov_RP9J4F5CYLGGpBNSukcgUw.s['215']++;if(typeof flowplayer=='undefined'){__cov_RP9J4F5CYLGGpBNSukcgUw.b['55'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['216']++;if(M.cfg.jsrev==-1){__cov_RP9J4F5CYLGGpBNSukcgUw.b['56'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['217']++;var jsurl=M.cfg.wwwroot+'/lib/flowplayer/flowplayer-3.2.13.js';}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['56'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['218']++;var jsurl=M.cfg.wwwroot+'/lib/javascript.php?jsfile=/lib/flowplayer/flowplayer-3.2.13.min.js&rev='+M.cfg.jsrev;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['219']++;var fileref=document.createElement('script');__cov_RP9J4F5CYLGGpBNSukcgUw.s['220']++;fileref.setAttribute('type','text/javascript');__cov_RP9J4F5CYLGGpBNSukcgUw.s['221']++;fileref.setAttribute('src',jsurl);__cov_RP9J4F5CYLGGpBNSukcgUw.s['222']++;fileref.onload=embed_function;__cov_RP9J4F5CYLGGpBNSukcgUw.s['223']++;fileref.onreadystatechange=embed_function;__cov_RP9J4F5CYLGGpBNSukcgUw.s['224']++;document.getElementsByTagName('head')[0].appendChild(fileref);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['55'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['225']++;embed_function();}},setup_sample_link:function(){__cov_RP9J4F5CYLGGpBNSukcgUw.f['28']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['226']++;var config={title:M.str.mod_mediagallery.addsamplegallery,question:'<img src="'+M.util.image_url('i/loading_small')+'" title="Processing..." />',yesLabel:M.str.moodle.add,noLabel:M.str.moodle.cancel,closeButtonTitle:M.str.moodle.cancel};__cov_RP9J4F5CYLGGpBNSukcgUw.s['227']++;if(Y.one('#mg_sample')){__cov_RP9J4F5CYLGGpBNSukcgUw.b['57'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['228']++;Y.one('#mg_sample').on('click',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['29']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['229']++;e.preventDefault();__cov_RP9J4F5CYLGGpBNSukcgUw.s['230']++;var confirm=new M.core.confirm(config);__cov_RP9J4F5CYLGGpBNSukcgUw.s['231']++;var ioconfig={method:'GET',data:{sesskey:M.cfg.sesskey,m:M.mod_mediagallery.base.mid,'class':'gallery',action:'get_sample_targets'},on:{success:function(tid,response){__cov_RP9J4F5CYLGGpBNSukcgUw.f['30']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['232']++;try{__cov_RP9J4F5CYLGGpBNSukcgUw.s['233']++;responsetext=Y.JSON.parse(response.responseText);__cov_RP9J4F5CYLGGpBNSukcgUw.s['234']++;if(responsetext.error){__cov_RP9J4F5CYLGGpBNSukcgUw.b['58'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['235']++;new M.core.ajaxException(responsetext);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['58'][1]++;}}catch(e){__cov_RP9J4F5CYLGGpBNSukcgUw.s['236']++;new M.core.ajaxException();}__cov_RP9J4F5CYLGGpBNSukcgUw.s['237']++;var node=Y.Node.create('<div class="sample_target_wrapper"><span>'+M.str.mod_mediagallery.mediagallery+':</span></div>');__cov_RP9J4F5CYLGGpBNSukcgUw.s['238']++;var select=Y.Node.create('<select id="sample_target"/>');__cov_RP9J4F5CYLGGpBNSukcgUw.s['239']++;node.append(select);__cov_RP9J4F5CYLGGpBNSukcgUw.s['240']++;Y.Object.each(responsetext,function(v,k){__cov_RP9J4F5CYLGGpBNSukcgUw.f['31']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['241']++;Y.Node.create('<option value="'+k+'">'+v+'</option>').appendTo(select);});__cov_RP9J4F5CYLGGpBNSukcgUw.s['242']++;confirm.bodyNode.one('.confirmation-message').setHTML(node);},failure:function(tid,response){__cov_RP9J4F5CYLGGpBNSukcgUw.f['32']++;}},context:this,sync:true};__cov_RP9J4F5CYLGGpBNSukcgUw.s['243']++;Y.io(M.mod_mediagallery.base.uri,ioconfig);__cov_RP9J4F5CYLGGpBNSukcgUw.s['244']++;confirm.on('complete-yes',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['33']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['245']++;var target=Y.one('#sample_target').get('value');__cov_RP9J4F5CYLGGpBNSukcgUw.s['246']++;var ioconfig={method:'POST',data:{sesskey:M.cfg.sesskey,m:M.mod_mediagallery.base.mid,'class':'gallery',id:M.mod_mediagallery.base.gallery,action:'sample','data[]':target},on:{success:function(tid,response){__cov_RP9J4F5CYLGGpBNSukcgUw.f['34']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['247']++;try{__cov_RP9J4F5CYLGGpBNSukcgUw.s['248']++;responsetext=Y.JSON.parse(response.responseText);__cov_RP9J4F5CYLGGpBNSukcgUw.s['249']++;if(responsetext.error){__cov_RP9J4F5CYLGGpBNSukcgUw.b['59'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['250']++;new M.core.ajaxException(responsetext);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['59'][1]++;}}catch(e){__cov_RP9J4F5CYLGGpBNSukcgUw.s['251']++;new M.core.ajaxException();}},failure:function(tid,response){__cov_RP9J4F5CYLGGpBNSukcgUw.f['35']++;}},context:this,sync:true};__cov_RP9J4F5CYLGGpBNSukcgUw.s['252']++;Y.io(M.mod_mediagallery.base.uri,ioconfig);},this);__cov_RP9J4F5CYLGGpBNSukcgUw.s['253']++;confirm.show();});}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['57'][1]++;}}};__cov_RP9J4F5CYLGGpBNSukcgUw.s['254']++;M.mod_mediagallery=(__cov_RP9J4F5CYLGGpBNSukcgUw.b['60'][0]++,M.mod_mediagallery)||(__cov_RP9J4F5CYLGGpBNSukcgUw.b['60'][1]++,{});__cov_RP9J4F5CYLGGpBNSukcgUw.s['255']++;M.mod_mediagallery.dragdrop={CSS:{CONTAINER:'.gallery_items',ITEMS:'.gallery_items .item',CONTROLCONTAINER:'.controls',HANDLE:'.controls :first-child',HANDLELINK:'.controls .move'},init:function(){__cov_RP9J4F5CYLGGpBNSukcgUw.f['36']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['256']++;var MOVEICON={pix:'i/move_2d',component:'moodle'};__cov_RP9J4F5CYLGGpBNSukcgUw.s['257']++;var goingUp=false,lastX=0,lastY=0;__cov_RP9J4F5CYLGGpBNSukcgUw.s['258']++;var list=Y.Node.all(this.CSS.ITEMS);__cov_RP9J4F5CYLGGpBNSukcgUw.s['259']++;list.each(function(v,k){__cov_RP9J4F5CYLGGpBNSukcgUw.f['37']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['260']++;var CSS=M.mod_mediagallery.dragdrop.CSS;__cov_RP9J4F5CYLGGpBNSukcgUw.s['261']++;var imagenode=Y.Node.create('<img class="smallicon move action-icon" title="'+M.str.moodle.move+'"/>');__cov_RP9J4F5CYLGGpBNSukcgUw.s['262']++;imagenode.setAttribute('src',M.util.image_url(MOVEICON.pix,MOVEICON.component));__cov_RP9J4F5CYLGGpBNSukcgUw.s['263']++;imagenode.addClass('cursor');__cov_RP9J4F5CYLGGpBNSukcgUw.s['264']++;v.one(CSS.CONTROLCONTAINER).prepend(imagenode);__cov_RP9J4F5CYLGGpBNSukcgUw.s['265']++;var dd=new Y.DD.Drag({node:v,target:{padding:'0 0 0 20'}}).plug(Y.Plugin.DDProxy,{moveOnEnd:false}).plug(Y.Plugin.DDConstrained,{constrain2node:CSS.CONTAINER});__cov_RP9J4F5CYLGGpBNSukcgUw.s['266']++;dd.addHandle(CSS.HANDLE);});__cov_RP9J4F5CYLGGpBNSukcgUw.s['267']++;Y.DD.DDM.on('drag:start',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['38']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['268']++;e.preventDefault();__cov_RP9J4F5CYLGGpBNSukcgUw.s['269']++;var drag=e.target;__cov_RP9J4F5CYLGGpBNSukcgUw.s['270']++;drag.get('node').setStyle('opacity','.25');__cov_RP9J4F5CYLGGpBNSukcgUw.s['271']++;drag.get('dragNode').addClass('mod_mediagallery item');__cov_RP9J4F5CYLGGpBNSukcgUw.s['272']++;drag.get('dragNode').set('innerHTML',drag.get('node').get('innerHTML'));__cov_RP9J4F5CYLGGpBNSukcgUw.s['273']++;drag.get('dragNode').setStyles({opacity:'.5',borderColor:drag.get('node').getStyle('borderColor'),backgroundColor:drag.get('node').getStyle('backgroundColor')});});__cov_RP9J4F5CYLGGpBNSukcgUw.s['274']++;Y.DD.DDM.on('drag:end',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['39']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['275']++;var drag=e.target;__cov_RP9J4F5CYLGGpBNSukcgUw.s['276']++;drag.get('node').setStyles({visibility:'',opacity:'1'});__cov_RP9J4F5CYLGGpBNSukcgUw.s['277']++;M.mod_mediagallery.dragdrop.save();});__cov_RP9J4F5CYLGGpBNSukcgUw.s['278']++;Y.DD.DDM.on('drag:drag',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['40']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['279']++;var x=e.target.lastXY[0];__cov_RP9J4F5CYLGGpBNSukcgUw.s['280']++;var y=e.target.lastXY[1];__cov_RP9J4F5CYLGGpBNSukcgUw.s['281']++;if(x<lastX){__cov_RP9J4F5CYLGGpBNSukcgUw.b['61'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['282']++;goingUp=true;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['61'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['283']++;goingUp=false;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['284']++;lasyX=x;__cov_RP9J4F5CYLGGpBNSukcgUw.s['285']++;lastY=y;});__cov_RP9J4F5CYLGGpBNSukcgUw.s['286']++;Y.DD.DDM.on('drop:over',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['41']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['287']++;var drag=e.drag.get('node'),drop=e.drop.get('node');__cov_RP9J4F5CYLGGpBNSukcgUw.s['288']++;var list=Y.all(M.mod_mediagallery.dragdrop.CSS.ITEMS);__cov_RP9J4F5CYLGGpBNSukcgUw.s['289']++;if(list.indexOf(drop)<list.indexOf(drag)){__cov_RP9J4F5CYLGGpBNSukcgUw.b['62'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['290']++;goingUp=true;}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['62'][1]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['291']++;goingUp=false;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['292']++;if(drop.hasClass('item')){__cov_RP9J4F5CYLGGpBNSukcgUw.b['63'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['293']++;if(!goingUp){__cov_RP9J4F5CYLGGpBNSukcgUw.b['64'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['294']++;drop=drop.get('nextSibling');}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['64'][1]++;}__cov_RP9J4F5CYLGGpBNSukcgUw.s['295']++;e.drop.get('node').get('parentNode').insertBefore(drag,drop);__cov_RP9J4F5CYLGGpBNSukcgUw.s['296']++;e.drop.sizeShim();}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['63'][1]++;}});__cov_RP9J4F5CYLGGpBNSukcgUw.s['297']++;Y.DD.DDM.on('drag:drophit',function(e){__cov_RP9J4F5CYLGGpBNSukcgUw.f['42']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['298']++;var drop=e.drop.get('node'),drag=e.drag.get('node');__cov_RP9J4F5CYLGGpBNSukcgUw.s['299']++;if(!drop.hasClass('item')){__cov_RP9J4F5CYLGGpBNSukcgUw.b['65'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['300']++;if(!drop.contains(drag)){__cov_RP9J4F5CYLGGpBNSukcgUw.b['66'][0]++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['301']++;drop.appendChild(drag);}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['66'][1]++;}}else{__cov_RP9J4F5CYLGGpBNSukcgUw.b['65'][1]++;}});},save:function(){__cov_RP9J4F5CYLGGpBNSukcgUw.f['43']++;__cov_RP9J4F5CYLGGpBNSukcgUw.s['302']++;var sortorder=Y.one(this.CSS.CONTAINER).get('children').getData('id');__cov_RP9J4F5CYLGGpBNSukcgUw.s['303']++;var params={sesskey:M.cfg.sesskey,data:sortorder,'class':'gallery',m:M.mod_mediagallery.base.mid,id:M.mod_mediagallery.base.gallery,action:'sortorder'};__cov_RP9J4F5CYLGGpBNSukcgUw.s['304']++;Y.io(M.cfg.wwwroot+'/mod/mediagallery/rest.php',{method:'POST',data:build_querystring(params),context:this});}};},'@VERSION@',{'requires':['base','node','selector-css3','dd-constrain','dd-proxy','dd-drop','dd-plugin','moodle-core-notification']});
